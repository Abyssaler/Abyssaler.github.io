{"title":"Linux基本网络服务-klsday5","uid":"67f56756dfbe83c6b9950a6e6b251147","slug":"klsday5-Linux","date":"2023-05-18T02:35:21.065Z","updated":"2023-05-25T01:53:40.027Z","comments":true,"path":"api/articles/klsday5-Linux.json","keywords":null,"cover":"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/wallhaven-1pq6zg.jpg","content":"<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518162738165.png\" alt=\"image-20230518162738165\"></p>\n<h2 id=\"yum服务\"><a href=\"#yum服务\" class=\"headerlink\" title=\"yum服务\"></a>yum服务</h2><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518104005933.png\" alt=\"image-20230518104005933\"></p>\n<h3 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h3><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518104209525.png\" alt=\"image-20230518104209525\"></p>\n<h3 id=\"准备安装源\"><a href=\"#准备安装源\" class=\"headerlink\" title=\"准备安装源\"></a>准备安装源</h3><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518104320549.png\" alt=\"image-20230518104320549\"></p>\n<p>yum是如何知道依赖关系的？</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518104424033.png\" alt=\"image-20230518104424033\"></p>\n<p>在光盘中的repodata文件中存放着依赖关系</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518105035199.png\" alt=\"image-20230518105035199\"></p>\n<p>使⽤createrepo⼯具来建⽴本地yum仓库（有的OS版本没有装需要在光盘安装）</p>\n<p>命令：<code>rpm -ivh /run/media/root/CentOS\\ 7\\ x86_64/Packages/createrepo 0.9.9- 28.el7.noarch.rpm</code></p>\n<p><code>createrepo +⽂件夹</code> 建本地源库 （建库⽂件的上级⽬录）</p>\n<p>然后挂载后就可使⽤</p>\n<h3 id=\"yum工具概述\"><a href=\"#yum工具概述\" class=\"headerlink\" title=\"yum工具概述\"></a>yum工具概述</h3><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518110915472.png\" alt=\"image-20230518110915472\"></p>\n<h3 id=\"yum下载源配置\"><a href=\"#yum下载源配置\" class=\"headerlink\" title=\"yum下载源配置\"></a>yum下载源配置</h3><p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>\n<p>在CentOS或者RHEL操作系统中，Yum源配置文件通常位于 <code>/etc/yum.repos.d/</code> 目录下，其中包含了系统所使用的所有yum仓库的配置信息。以下是一个示例 Yum源 配置文件 <code>CentOS-Base.repo</code> 的内容：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"># CentOS-Base.repo\n#\n# The mirror system uses the connecting IP address of the client and the\n# update status of each mirror to pick mirrors that are updated to and\n# geographically close to the client.  You should use this for CentOS updates\n# unless you are manually picking other mirrors.\n#\n# If the mirrorlist&#x3D; does not work for you, as a fall back you can try the \n# remarked out baseurl&#x3D; line instead.\n#\n#\n\n[base]\nname&#x3D;CentOS-$releasever - Base\nmirrorlist&#x3D;http:&#x2F;&#x2F;mirrorlist.centos.org&#x2F;?release&#x3D;$releasever&amp;arch&#x3D;$basearch&amp;repo&#x3D;os&amp;infra&#x3D;$infra\n#baseurl&#x3D;http:&#x2F;&#x2F;mirror.centos.org&#x2F;centos&#x2F;$releasever&#x2F;os&#x2F;$basearch&#x2F;\ngpgcheck&#x3D;1\ngpgkey&#x3D;file:&#x2F;&#x2F;&#x2F;etc&#x2F;pki&#x2F;rpm-gpg&#x2F;RPM-GPG-KEY-CentOS-$releasever\n\n#released updates \n[updates]\nname&#x3D;CentOS-$releasever - Updates\nmirrorlist&#x3D;http:&#x2F;&#x2F;mirrorlist.centos.org&#x2F;?release&#x3D;$releasever&amp;arch&#x3D;$basearch&amp;repo&#x3D;updates&amp;infra&#x3D;$infra\n#baseurl&#x3D;http:&#x2F;&#x2F;mirror.centos.org&#x2F;centos&#x2F;$releasever&#x2F;updates&#x2F;$basearch&#x2F;\ngpgcheck&#x3D;1\ngpgkey&#x3D;file:&#x2F;&#x2F;&#x2F;etc&#x2F;pki&#x2F;rpm-gpg&#x2F;RPM-GPG-KEY-CentOS-$releasever\n\n#additional packages that may be useful\n[extras]\nname&#x3D;CentOS-$releasever - Extras\nmirrorlist&#x3D;http:&#x2F;&#x2F;mirrorlist.centos.org&#x2F;?release&#x3D;$releasever&amp;arch&#x3D;$basearch&amp;repo&#x3D;extras&amp;infra&#x3D;$infra\n#baseurl&#x3D;http:&#x2F;&#x2F;mirror.centos.org&#x2F;centos&#x2F;$releasever&#x2F;extras&#x2F;$basearch&#x2F;\ngpgcheck&#x3D;1\ngpgkey&#x3D;file:&#x2F;&#x2F;&#x2F;etc&#x2F;pki&#x2F;rpm-gpg&#x2F;RPM-GPG-KEY-CentOS-$releasever\n\n#additional packages that extend functionality of existing packages\n[centosplus]\nname&#x3D;CentOS-$releasever - Plus\nmirrorlist&#x3D;http:&#x2F;&#x2F;mirrorlist.centos.org&#x2F;?release&#x3D;$releasever&amp;arch&#x3D;$basearch&amp;repo&#x3D;centosplus&amp;infra&#x3D;$infra\n#baseurl&#x3D;http:&#x2F;&#x2F;mirror.centos.org&#x2F;centos&#x2F;$releasever&#x2F;centosplus&#x2F;$basearch&#x2F;\ngpgcheck&#x3D;1\nenabled&#x3D;0\ngpgkey&#x3D;file:&#x2F;&#x2F;&#x2F;etc&#x2F;pki&#x2F;rpm-gpg&#x2F;RPM-GPG-KEY-CentOS-$releasever</code></pre>\n\n<p>此文件定义了系统所使用的 <code>base</code>、<code>updates</code>、<code>extras</code> 和 <code>centosplus</code> 四个Yum仓库的相关信息，每一个仓库都包含了名字、镜像源地址、GPG验证等内容。用户可以通过修改相应的配置文件来添加、修改、删除Yum源，并配合 <code>yum</code> 命令使用，从而实现对系统软件包的管理和安装。</p>\n<p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>\n<p><strong>centos中<code>/etc/yum.repos.d/</code>目录下的文件的作用</strong></p>\n<p>在 CentOS 或 RHEL 操作系统中， <code>/etc/yum.repos.d/</code> 目录下的文件是 Yum 软件包管理器所使用的仓库配置文件。每个文件代表一个仓库，定义了软件包的下载地址、GPG 密钥和其他相关信息。</p>\n<p>当用户运行 <code>yum update</code> 或者 <code>yum install</code> 命令时，Yum 会读取所有配置文件，根据其中定义的各个仓库的配置信息索引和下载需要的软件包，以便进行系统更新、安装或升级等操作。</p>\n<p>该目录下的文件的命名并非固定，但为了方便维护和识别，一般采用 <code>repo-name.repo</code> 的方式进行命名，其中 <code>repo-name</code> 为该仓库的名称。</p>\n<p>这些文件所涵盖的内容包括：</p>\n<ul>\n<li>仓库名称： 每个文件都应该明确地定义所代表的仓库的名称，如 <code>[base]</code>、<code>[updates]</code> 等。</li>\n<li>仓库地址： 该文件应该定义所代表的仓库的基本 URL 或镜像列表地址，以便 yum 工具找到你的软件包。</li>\n<li>是否启用该仓库： 该文件允许您禁用或启用特定的仓库，在默认情况下，所有可用仓库都是启用的。</li>\n<li>GPG 密钥： 签名包可以根据其来源进行验证，以保证软件包的完整性。特别是当你采用的是外部仓库时，签名包的验证可以确保您不会下载到恶意软件。</li>\n<li>其他选项： 还有其他一些选项可以在配置文件中进行设置，如使用代理服务器、调整软件包缓存的大小等。</li>\n</ul>\n<p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>\n<p><strong>在<code>/etc/yum.repos.d</code>&#x2F;所定义的仓库中，如果有两个仓库相同，优先级应该如何定义</strong></p>\n<p>当在 <code>/etc/yum.repos.d/</code> 中定义的两个或多个仓库文件同时提供相同的软件包时，Yum 软件包管理器需要使用优先级规则来确定要使用哪个源。默认情况下，Yum 使用以下规则：</p>\n<ol>\n<li><code>priority</code> 值最高的仓库具有最高优先级。</li>\n<li>如果两个或多个仓库的 <code>priority</code> 值相同，则使用最新的软件包。</li>\n<li>如果两个或多个仓库的 <code>priority</code> 和软件包版本都相同，则使用第一个找到的仓库。</li>\n</ol>\n<p>由于不同的仓库对应的软件包版本、更新性等可能会有所不同，因此在使用时建议根据实际情况设置不同仓库的优先级。可以通过在仓库配置文件中使用 <code>priority</code> 属性来设置每个仓库的优先级。</p>\n<p>在 CentOS 或 RHEL 中，<code>priority</code> 的值从 1 到 99，其中 99 表示最高优先级，1 表示最低优先级。默认情况下，所有 Yum 仓库都会被分配一个 <code>priority</code> 值为 99 的优先级。如果想要修改优先级，只需要在仓库文件中添加类似于 <code>priority=XX</code> 的行即可，其中 XX 是期望设置的优先级值，如：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">[base]\nname&#x3D;CentOS-$releasever - Base\nbaseurl&#x3D;http:&#x2F;&#x2F;mirror.centos.org&#x2F;centos&#x2F;$releasever&#x2F;os&#x2F;$basearch&#x2F;\ngpgcheck&#x3D;1\ngpgkey&#x3D;file:&#x2F;&#x2F;&#x2F;etc&#x2F;pki&#x2F;rpm-gpg&#x2F;RPM-GPG-KEY-CentOS-$releasever\npriority&#x3D;99\n\n[updates]\nname&#x3D;CentOS-$releasever - Updates\nbaseurl&#x3D;http:&#x2F;&#x2F;mirror.centos.org&#x2F;centos&#x2F;$releasever&#x2F;updates&#x2F;$basearch&#x2F;\ngpgcheck&#x3D;1\ngpgkey&#x3D;file:&#x2F;&#x2F;&#x2F;etc&#x2F;pki&#x2F;rpm-gpg&#x2F;RPM-GPG-KEY-CentOS-$releasever\npriority&#x3D;98</code></pre>\n\n<p>上述示例中，<code>[base]</code> 仓库设置了优先级为 99，而 <code>[updates]</code> 仓库则设置了优先级为 98。这意味着，当有软件包同时在两个仓库出现时，Yum 将首先从 <code>[base]</code> 仓库中下载软件包，因为其 <code>priority</code> 值更高，除非该软件包在 <code>[base]</code> 中不存在或最近更新。</p>\n<p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518112504304.png\" alt=\"image-20230518112504304\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518112724690.png\" alt=\"image-20230518112724690\"></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">创建 YUM 软件仓库\n如果你有多个非官方的 RPM 包需要安装，手动添加每个 RPM 包会比较麻烦和耗时。因此，建议创建一个 YUM 软件仓库，将所有的非官方 RPM 包打包成一个 YUM 软件仓库，然后将该软件仓库添加到系统中，以便包管理器可以自动从中获取软件包并进行安装、升级或卸载操作。\n\n创建 YUM 软件仓库的主要步骤如下：\n\n下载 createrepo 工具，并安装它：\n\nsudo yum install createrepo\n\n将所有的非官方 RPM 包放置到同一个文件夹中，例如 &#x2F;opt&#x2F;repo\n\n创建软件仓库：\n\nsudo createrepo &#x2F;opt&#x2F;repo\n\n该命令将在 &#x2F;opt&#x2F;repo 目录下生成一个 repodata 文件夹和一个 repomd.xml 文件，其中包含了软件仓库的元数据信息。\n\n在 &#x2F;etc&#x2F;yum.repos.d&#x2F; 目录下创建一个新的 .repo 文件，以指定软件仓库的名称、描述、URL 和 gpgcheck 等配置信息。例如：\n\n[example-repo]\nname&#x3D;Example Repository\nbaseurl&#x3D;file:&#x2F;&#x2F;&#x2F;opt&#x2F;repo\nenabled&#x3D;1\ngpgcheck&#x3D;0\n\n其中，[example-repo] 是软件仓库的名称，name 是描述信息，baseurl 是指向软件仓库的 URL，enabled 表示软件仓库是否启用，gpgcheck 表示是否开启 GPG 签名验证。\n\n执行 yum clean all 命令清除包管理器缓存，然后就可以使用包管理器进行安装、升级或卸载操作了：\n\nsudo yum install example-package\n\n包管理器将会从添加的非官方软件仓库中获取 example-package 软件包，并进行安装。</code></pre>\n\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518132213396.png\" alt=\"image-20230518132213396\"></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">以下是使用 wget下载阿里源并替换关键字段的一般步骤：\n\n打开终端并切换到 root 用户。\n\n备份原有的 CentOS-Base.repo 文件（如果需要的话）：\n\ncp &#x2F;etc&#x2F;yum.repos.d&#x2F;CentOS-Base.repo &#x2F;etc&#x2F;yum.repos.d&#x2F;CentOS-Base.repo.bak\n\n使用 wget 命令下载阿里源的配置文件：\n\nwget -O &#x2F;etc&#x2F;yum.repos.d&#x2F;CentOS-Base.repo https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;repo&#x2F;Centos-7.repo\n\n在这个命令中，-O 参数用于指定要下载的文件的输出路径和名称。上述命令会将 https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;repo&#x2F;Centos-7.repo 的内容下载到 &#x2F;etc&#x2F;yum.repos.d&#x2F;CentOS-Base.repo 文件中。\n\n打开 &#x2F;etc&#x2F;yum.repos.d&#x2F;CentOS-Base.repo 文件，找到以下两个关键字段：\n\n#baseurl&#x3D;http:&#x2F;&#x2F;mirror.centos.org&#x2F;centos&#x2F;$releasever&#x2F;os&#x2F;$basearch&#x2F;\ngpgcheck&#x3D;1\n将这两行内容分别修改为：\n\nbaseurl&#x3D;https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;centos&#x2F;$releasever&#x2F;os&#x2F;$basearch&#x2F;\ngpgcheck&#x3D;0\n\n第一行中的 URL 指向了阿里云的 CentOS 仓库地址，第二行的 gpgcheck 参数被设置为 0，表示关闭 GPG 签名验证。\n\n保存文件并退出编辑器。\n\n运行 yum clean all 命令，清除本地的 yum 缓存。\n\n至此，你已经成功下载了阿里云的 CentOS 仓库配置文件，并替换了其中的关键字段。可以使用 yum update 或其他 yum 命令来测试新的 yum 配置是否能够正常工作。</code></pre>\n\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518133031270.png\" alt=\"image-20230518133031270\"></p>\n<h3 id=\"软件包命令\"><a href=\"#软件包命令\" class=\"headerlink\" title=\"软件包命令\"></a>软件包命令</h3><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518133623464.png\" alt=\"image-20230518133623464\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518134043505.png\" alt=\"image-20230518134043505\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518134941526.png\" alt=\"image-20230518134941526\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518135058289.png\" alt=\"image-20230518135058289\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">1. 安装包： yum install package_name\n2. 升级包： yum update package_name\n3. 卸载包： yum remove package_name\n4. 查找包： yum search keyword\n5. 查看包信息： yum info package_name\n6. 列出已安装的包： yum list installed\n7. 清理缓存： yum clean all\n8. 显示yum仓库的资源： yum repolist \n9. 下载不安装dhcp 是安装的软件名 path是下载位置\nyum install dhcp --downloadonly --downloaddir&#x3D;&#x2F;path\n例如，安装 nginx 包：yum install nginx，卸载 nginx 包：yum remove nginx，查找包含 php 关键字\n的软件包：yum search php。</code></pre>\n\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518135310056.png\" alt=\"image-20230518135310056\"></p>\n<p>yum中repo⽂件⽐.conf优先级⾼</p>\n<h2 id=\"Linux网络配置\"><a href=\"#Linux网络配置\" class=\"headerlink\" title=\"Linux网络配置\"></a>Linux网络配置</h2><h3 id=\"使用网络配置命令\"><a href=\"#使用网络配置命令\" class=\"headerlink\" title=\"使用网络配置命令\"></a>使用网络配置命令</h3><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518140200320.png\" alt=\"image-20230518140200320\"></p>\n<h4 id=\"ifconfig\"><a href=\"#ifconfig\" class=\"headerlink\" title=\"ifconfig\"></a>ifconfig</h4><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518140641916.png\" alt=\"image-20230518140641916\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518140618297.png\" alt=\"image-20230518140618297\"></p>\n<p><code>ifconfig</code>是看不到网关和dns的</p>\n<p>不同网段通信必须要有网关地址</p>\n<h4 id=\"hostname\"><a href=\"#hostname\" class=\"headerlink\" title=\"hostname\"></a>hostname</h4><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518143209280.png\" alt=\"image-20230518143209280\"></p>\n<p>更改主机名： <code>hostnamectl set-hostname abc</code></p>\n<h4 id=\"route\"><a href=\"#route\" class=\"headerlink\" title=\"route\"></a>route</h4><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518145935106.png\" alt=\"image-20230518145935106\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518150623325.png\" alt=\"image-20230518150623325\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Destination Gateway    Genmask         Flags Metric Ref Use Iface\n⽬的           ⽹关   ⽬的地址⼦⽹掩码      路由标签\nFlags: 表示当前连接状态的标志，包括 U (表示 socket 是未连接的), A (表示 socket 是已连接的) , Z (表示\n进程已经终⽌，但是套接字仍在使⽤)，LISTEN(表示该端⼝在监听⽹络连接请求)，等等。\nMetric: 路由表中每个路由项的优先级，通常基于接⼝速度、距离等因素计算得出，值越⼩优先级越⾼。\nRef: 当前路由的参考数。如果这个数变成0，说明这条路由可以被删除了。</code></pre>\n\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518150731201.png\" alt=\"image-20230518150731201\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518151122261.png\" alt=\"image-20230518151122261\"><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518151134953.png\" alt=\"image-20230518151134953\"></p>\n<h4 id=\"netstat\"><a href=\"#netstat\" class=\"headerlink\" title=\"netstat\"></a>netstat</h4><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518151448267.png\" alt=\"image-20230518151448267\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">指定⽹关： gw\n常⽤的选项包括：\n-a：显示所有连接，包括监听和⾮监听状态\n-t：显示TCP协议连接状态\n-u：显示UDP协议连接状态\n-n：禁⽤域名解析，直接显示IP地址\n-p：显示进程信息\n-r：显示路由表信息\n-l：详细信息\n例如，显示所有TCP连接状态：netstat -at，显示所有UDP连接状态并显示相关进程信息：netstat -up，显示路由\n表信息：netstat -r。netstat 命令常⽤于排查⽹络问题，如查看端⼝号是否被占⽤、确定⽹络连接是否正常等。</code></pre>\n\n<h4 id=\"ping\"><a href=\"#ping\" class=\"headerlink\" title=\"ping\"></a>ping</h4><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518151634398.png\" alt=\"image-20230518151634398\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">-i：指定间隔时间\n-c：指定次数\n-f：洪⽔ping</code></pre>\n\n<h4 id=\"traceroute\"><a href=\"#traceroute\" class=\"headerlink\" title=\"traceroute\"></a>traceroute</h4><p>路由跟踪</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518151812650.png\" alt=\"image-20230518151812650\"></p>\n<h4 id=\"nslookup\"><a href=\"#nslookup\" class=\"headerlink\" title=\"nslookup\"></a>nslookup</h4><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518152332206.png\" alt=\"image-20230518152332206\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518152305126.png\" alt=\"image-20230518152305126\"></p>\n<h4 id=\"设置网络参数的方式\"><a href=\"#设置网络参数的方式\" class=\"headerlink\" title=\"设置网络参数的方式\"></a>设置网络参数的方式</h4><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518152527105.png\" alt=\"image-20230518152527105\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518152616764.png\" alt=\"image-20230518152616764\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518153111520.png\" alt=\"image-20230518153111520\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518153301913.png\" alt=\"image-20230518153301913\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">ifconfig设置虚拟网络接口的作用:\n\n通过ifconfig设置虚拟网络接口可以实现以下功能：\n\n添加额外的IP地址：虚拟网络接口可以为系统添加多个IP地址。这可以使同一台机器提供不同的服务或应用程序，同时使用不同的IP地址。\n隔离网络流量：使用虚拟网络接口可以将网络流量隔离到不同的子网中。这有助于提高网络安全性，同时支持更高级别的网络互连性。\n创建VPN隧道：使用虚拟网络接口可以创建VPN隧道，使远程用户可以连接到本地网络，或者将本地网络扩展到另一个地理位置。\n配置网络桥接：使用虚拟网络接口可以在系统之间创建网络桥接，实现不同网络之间的数据传输。</code></pre>\n\n<h4 id=\"设置路由记录\"><a href=\"#设置路由记录\" class=\"headerlink\" title=\"设置路由记录\"></a>设置路由记录</h4><p>帮助我们设置路由记录</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518153752653.png\" alt=\"image-20230518153752653\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518153938724.png\" alt=\"image-20230518153938724\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518154231544.png\" alt=\"image-20230518154231544\"></p>\n<h4 id=\"修改主机名\"><a href=\"#修改主机名\" class=\"headerlink\" title=\"修改主机名\"></a>修改主机名</h4><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518154600712.png\" alt=\"image-20230518154600712\"></p>\n<h3 id=\"修改网络配置文件\"><a href=\"#修改网络配置文件\" class=\"headerlink\" title=\"修改网络配置文件\"></a>修改网络配置文件</h3><h4 id=\"网络接口配置文件\"><a href=\"#网络接口配置文件\" class=\"headerlink\" title=\"网络接口配置文件\"></a>网络接口配置文件</h4><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518155755315.png\" alt=\"image-20230518155755315\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518154859550.png\" alt=\"image-20230518154859550\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518155055102.png\" alt=\"image-20230518155055102\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518155633308.png\" alt=\"image-20230518155633217\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518155724807.png\" alt=\"image-20230518155724807\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518155655633.png\" alt=\"image-20230518155655633\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518160232419.png\" alt=\"image-20230518160232419\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518155823408.png\" alt=\"image-20230518155823408\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518160010969.png\" alt=\"image-20230518160010969\"></p>\n<h4 id=\"主机名称配置文件\"><a href=\"#主机名称配置文件\" class=\"headerlink\" title=\"主机名称配置文件\"></a>主机名称配置文件</h4><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518160843197.png\" alt=\"image-20230518160843197\"></p>\n<h4 id=\"本地主机映射文件\"><a href=\"#本地主机映射文件\" class=\"headerlink\" title=\"本地主机映射文件\"></a>本地主机映射文件</h4><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518161915837.png\" alt=\"image-20230518161915837\"></p>\n<h3 id=\"配置DHCP服务器\"><a href=\"#配置DHCP服务器\" class=\"headerlink\" title=\"配置DHCP服务器\"></a>配置DHCP服务器</h3><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518163100452.png\" alt=\"image-20230518163100452\"></p>\n<p>DHCP是一种动态分配IP地址的协议，其工作原理如下：当计算机连接到网络时，会向网络中发送一个DHCP Discover广播包，请求可用的DHCP服务器；DHCP服务器接收到广播包后，会回应一个DHCP Offer广播包，其中包括可用的IP地址、子网掩码、网关和DNS服务器等参数；计算机收到DHCP Offer后，会选择其中一个DHCP服务器，并发送一个DHCP Request广播包，请求分配网络参数；DHCP服务器收到DHCP Request后，会发送一个DHCP Acknowledge广播包，其中包括分配给计算机的IP地址、子网掩码、网关和DNS服务器等参数。计算机使用这些参数完成网络连接，同时DHCP服务器记录下了该IP地址的租用信息，当租用过期需要续约时，客户端会向DHCP服务器发出请求，DHCP服务器则会更新租用时间并保持原有的IP地址不变。</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518164807855.png\" alt=\"image-20230518164807855\"> <img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518165255781.png\" alt=\"image-20230518165255781\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518165416891.png\" alt=\"image-20230518165416891\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">ddns-update-stlyle:dns更新模式\ndefault-lease-time：默认租约时间\nmax-lease-time：最⼤租约时间\noption domain-name：如果没有指定搜素域正常是打不开\noption domain-name-servers：服务器地址</code></pre>\n\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518165634846.png\" alt=\"image-20230518165634846\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518165804667.png\" alt=\"image-20230518165804667\"></p>\n<p>静态分配：即当请求者的mac地址是图中所示时，分配给它的IP地址一定是192.168.4.100</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230518165854179.png\" alt=\"image-20230518165854179\"></p>\n<p>首先设置VMware网卡，选一个自定义的（我选的是vmnet3），设置IP为192.168.100.0</p>\n<p>在dchp服务器上配置静态IP</p>\n<p>安装</p>\n<p><code>yum -y install dhcp.x86_64 12:4.2.5-83.el7.centos.1 </code></p>\n<p>修改配置文件</p>\n<p><code>vim /etc/dhcp/dhcpd.conf</code></p>\n<p>末行模式下使用：<code>:r /usr/share/doc/dhcp-4.2.5/dhcpd.conf.example</code></p>\n<p>在50行左右找到作用域样板</p>\n<p>修改样板</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># A slightly different configuration for an internal subnet.\nsubnet 192.168.100.0 netmask 255.255.255.0 &#123;\n  range 192.168.100.55 192.168.100.66;\n  option domain-name-servers 202.106.0.20,114.114.114.114;\n  option domain-name &quot;internal.example.org&quot;;\n  option routers 192.168.100.254; #getaway\n  option broadcast-address 192.168.100.255; #guangbo dizhi\n  default-lease-time 600;\n  max-lease-time 7200;\n&#125;</code></pre>\n\n<p>重启服务</p>\n<p><code>systemctl start dhcpd</code></p>\n<p>查看dhcp是否启动</p>\n<p><code>netstat -anpu | grep dhcp</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230519072713935.png\" alt=\"image-20230519072713935\"></p>\n<p>扩展：设置保留主机</p>\n<p>修改配置文件</p>\n<p><code>vim /etc/dhcp/dhcpd.conf</code></p>\n<p>末行模式下使用：<code>:r /usr/share/doc/dhcp-4.2.5/dhcpd.conf.example</code></p>\n<p>修改样板，主机声明</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">host boss(id可修改) &#123;\n  hardware ethernet 08:00:07:26:c0:a5; #要保留的主机的mac地址\n  fixed-address 192.168.100.56;    #要保留的ip地址\n&#125;</code></pre>\n\n<p>重启服务</p>\n<p><code>systemctl restart dhcpd</code></p>\n<h3 id=\"使用DHCP客户端\"><a href=\"#使用DHCP客户端\" class=\"headerlink\" title=\"使用DHCP客户端\"></a>使用DHCP客户端</h3><p>可以先改网卡，<code>/etc/sysconfig/network-scripts/ifcfg-ens33</code></p>\n<p>大致改成如图所示</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230519083527728.png\" alt=\"image-20230519083527728\"></p>\n<p>或者</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230519064315100.png\" alt=\"image-20230519064315100\"></p>\n<p>dhclient 命令是 Linux 操作系统中的一个命令行工具，用于启用 DHCP（动态主机配置协议）客户端并向网络中的 DHCP 服务器请求 IP 地址和其他网络配置信息。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">-4 或 --ipv4：只使用 IPv4 通信。\n-6 或 --ipv6：只使用 IPv6 通信。\n-r 或 --release：释放 IP 地址。\n使用该选项可以通知 DHCP 服务器释放分配给您的 IP 地址并关闭 dhclient 进程。\n-S 或 --request-hostname：向 DHCP 服务器请求主机名。\n使用该选项可以要求 DHCP 服务器分配一个主机名。\n-d 启用调试模式，并输出 dhclient 命令与 DHCP 服务器之间的通信细节</code></pre>\n\n<p>安装dhclient</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">mkdir -p &#x2F;mnt&#x2F;centos7\nmount &#x2F;dev&#x2F;cdrom &#x2F;mnt&#x2F;centos7\ncd &#x2F;mnt&#x2F;centos7&#x2F;Packages\nfind -name &quot;dhclient*&quot;\nrpm -ivh dhclient-4.2.5-82.el7.centos.x86_64.rpm</code></pre>\n\n<p>执行dhclient</p>\n<h2 id=\"搭建DNS服务器\"><a href=\"#搭建DNS服务器\" class=\"headerlink\" title=\"搭建DNS服务器\"></a>搭建DNS服务器</h2><h3 id=\"dns基础\"><a href=\"#dns基础\" class=\"headerlink\" title=\"dns基础\"></a>dns基础</h3><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230519101636174.png\" alt=\"image-20230519101636174\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230519101629275.png\" alt=\"image-20230519101629275\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">www.baidu.com.\ncom.   顶级域名\nbaidu. 二级域名\nwww    主机名</code></pre>\n\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230519103142785.png\" alt=\"image-20230519103142785\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230519103333400.png\" alt=\"image-20230519103333400\"></p>\n<p>从域名服务器其实就相当于主域名服务器的一个备份</p>\n<p>默认软件安装的dns服务器都自带13个根</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">客户机查询域名解析的过程是什么？\n\n当客户机需要查询一个域名的 IP 地址时，它会首先查询自己的本地 DNS 缓存，如果有该域名的解析记录，则直接返回该记录对应的 IP 地址。\n如果本地 DNS 缓存中没有该记录或者该记录已过期，客户机会向预定义的 DNS 服务器（一般由客户端系统或由 DHCP 分配）发出查询请求。\n\n客户机将要查询的域名发送给本地DNS服务器（可能是一台运营商分配的或者是企业内部的 DNS 服务器）。\n\n如果本地 DNS 服务器中有该域名的解析记录，则直接返回 IP 地址给客户机，完成域名解析；否则，本地 DNS 服务器向根域名服务器发送递归查询请求。\n\n根域名服务器返回该域名对应顶级域名服务器的 IP 地址，本地 DNS 服务器向顶级域名服务器发出查询请求。\n\n顶级域名服务器返回该域名对应的权威 DNS 服务器的 IP 地址，本地 DNS 服务器向权威 DNS 服务器发出查询请求。\n\n权威 DNS 服务器查询该域名对应的 IP 地址，并将解析结果返回给本地 DNS 服务器。\n\n本地 DNS 服务器将解析结果缓存，并将 IP 地址返回给客户机，完成域名解析。</code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">常见的顶级域有哪些，代表什么含义?\n.com：商业机构，最常用的顶级域名之一。\n.org：非营利组织。\n.net：网络基础设施、网络服务提供商等。\n.edu：教育机构。\n.gov：政府机构。\n.mil：军事部门。\n.info：信息机构。\n.biz：商业类别。\n.name：代表个人的名称。\n.pro：专业领域。</code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">常见的DNS系统的类型有哪些？\n\n递归 DNS：也被称为迭代 DNS，它负责将客户端的 DNS 查询请求发送到 DNS 域中，并在各个层级之间进行反复迭代直到找到查询结果。递归 DNS 服务器通常与 ISP（Internet Service Provider）或其他互联网服务提供商相关联。\n\n权威 DNS：它保存了特定 DNS 区域中所包含的所有记录信息，包括 IP 地址、主机名等。当递归 DNS 找到需要查询的域名时，它会将查询请求转发到相应的权威 DNS 服务器上，并从它那里获取查询结果。\n\n反向 DNS：也称为逆 DNS，它可以通过 IP 地址查询对应的域名和其他相关信息。反向 DNS 主要用于反垃圾邮件、网络安全等方面。\n\n主从 DNS：这种 DNS 系统结构包括一个主 DNS 服务器和一个或多个从 DNS 服务器。主 DNS 服务器存储并更新所有 DNS 记录信息，并将这些信息同步到所有从 DNS 服务器中，以确保所有 DNS 服务器都具备相同的记录数据。在主 DNS 服务器宕机时，从 DNS 服务器可以继续为客户端解析域名信息。\n\n分布式 DNS：它是一种由多个 DNS 服务器协同工作的 DNS 系统，不同于传统的中心化 DNS 系统。分布式 DNS 的核心思想是利用多个 DNS 服务器形成一个去中心化的 DNS 系统，提高系统的稳定性和安全性。</code></pre>\n\n<h3 id=\"BIND域名服务\"><a href=\"#BIND域名服务\" class=\"headerlink\" title=\"BIND域名服务\"></a>BIND域名服务</h3><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230519110112902.png\" alt=\"image-20230519110112902\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230521211251092.png\" alt=\"image-20230521211251092\"></p>\n<p>查本地的域名解析就是UDP协议53端口</p>\n<p>本地找不到要去顶级DNS服务器上递归查找就是TCP的53端口</p>\n<h3 id=\"构建主域名服务器，配置正反查询\"><a href=\"#构建主域名服务器，配置正反查询\" class=\"headerlink\" title=\"构建主域名服务器，配置正反查询\"></a>构建主域名服务器，配置正反查询</h3><h4 id=\"安装程序\"><a href=\"#安装程序\" class=\"headerlink\" title=\"安装程序\"></a>安装程序</h4><p><code>yum -y install bind bind-utils bind-libs bind-chroot</code></p>\n<p>配置静态IP如图</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230521105409388.png\" alt=\"image-20230521105409388\"></p>\n<p>因为用的是伪装目录形式的安装，所以配置文件，区域文件，区域数据库需要改变下位置</p>\n<p><code>cp -rp /etc/named.* /var/named/chroot/etc/</code>   # 相当于伪装的一个根目录</p>\n<p><code>cp -rp /usr/share/doc/bind-9.11.4/sample/var/* /var/named/chroot/var</code></p>\n<p><code>cp -rp /var/named/dynamic/ /var/named/chroot/var/named/</code></p>\n<h4 id=\"设置权限\"><a href=\"#设置权限\" class=\"headerlink\" title=\"设置权限\"></a>设置权限</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">chown -R :named &#x2F;var&#x2F;named&#x2F;chroot&#x2F;var&#x2F;named&#x2F;\nchown -R named &#x2F;var&#x2F;named&#x2F;chroot&#x2F;var&#x2F;named&#x2F;data&#x2F;\nchown -R named &#x2F;var&#x2F;named&#x2F;chroot&#x2F;var&#x2F;named&#x2F;slaves&#x2F;\nchmod -R 640 &#x2F;var&#x2F;named&#x2F;chroot&#x2F;var&#x2F;named&#x2F;named.*\nchmod -R 770 &#x2F;var&#x2F;named&#x2F;chroot&#x2F;var&#x2F;named&#x2F;slaves&#x2F;\nchmod -R 770 &#x2F;var&#x2F;named&#x2F;chroot&#x2F;var&#x2F;named&#x2F;data&#x2F;</code></pre>\n\n<h4 id=\"修改主配置文件\"><a href=\"#修改主配置文件\" class=\"headerlink\" title=\"修改主配置文件\"></a>修改主配置文件</h4><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230519110703626.png\" alt=\"image-20230519110703626\"></p>\n<p><code>vim /var/named/chroot/etc/named.conf</code>（主配置文件）</p>\n<p><code>vim /var/named/chroot/etc/named.rfc1912.zones</code>（区域配置文件，声明域名用的）</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">先修改主配置文件\n\n修改前：\noptions &#123;\n        listen-on port 53 &#123; 127.0.0.1; &#125;;\n        listen-on-v6 port 53 &#123; ::1; &#125;;\n        directory       &quot;&#x2F;var&#x2F;named&quot;;\n        dump-file       &quot;&#x2F;var&#x2F;named&#x2F;data&#x2F;cache_dump.db&quot;;\n        statistics-file &quot;&#x2F;var&#x2F;named&#x2F;data&#x2F;named_stats.txt&quot;;\n        memstatistics-file &quot;&#x2F;var&#x2F;named&#x2F;data&#x2F;named_mem_stats.txt&quot;;\n        recursing-file  &quot;&#x2F;var&#x2F;named&#x2F;data&#x2F;named.recursing&quot;;\n        secroots-file   &quot;&#x2F;var&#x2F;named&#x2F;data&#x2F;named.secroots&quot;;\n        allow-query     &#123; localhost; &#125;;\n修改后：\noptions &#123;\n        listen-on port 53 &#123; any; &#125;; #适用于有多张网卡的\n        listen-on-v6 port 53 &#123; ::1; &#125;;\n        directory       &quot;&#x2F;var&#x2F;named&quot;;\n        dump-file       &quot;&#x2F;var&#x2F;named&#x2F;data&#x2F;cache_dump.db&quot;;\n        statistics-file &quot;&#x2F;var&#x2F;named&#x2F;data&#x2F;named_stats.txt&quot;;\n        memstatistics-file &quot;&#x2F;var&#x2F;named&#x2F;data&#x2F;named_mem_stats.txt&quot;;\n        recursing-file  &quot;&#x2F;var&#x2F;named&#x2F;data&#x2F;named.recursing&quot;;\n        secroots-file   &quot;&#x2F;var&#x2F;named&#x2F;data&#x2F;named.secroots&quot;;\n        allow-query     &#123; any; &#125;; #允许查询，即允许访问这台服务器的人</code></pre>\n\n<h4 id=\"声明域名\"><a href=\"#声明域名\" class=\"headerlink\" title=\"声明域名\"></a>声明域名</h4><p><code>vim /var/named/chroot/etc/named.rfc1912.zones</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">正向区域：\n模板：\nzone &quot;localhost.localdomain&quot; IN &#123;\n        type master;\n        file &quot;named.localhost&quot;;\n        allow-update &#123; none; &#125;;\n&#125;;\n修改后：\nzone &quot;chaitin.com&quot; IN &#123; # 你要指定的域名\n        type master;\n        file &quot;chaitin.com.zone&quot;; # 这个域名，它所存储域名解析的文件叫什么（数据库文件，来装解析记录）,需要手动生成\n        allow-update &#123; none; &#125;;\n&#125;;\nzone &quot;aliyun.com&quot; IN &#123;\n        type master;\n        file &quot;aliyun.com.zone&quot;;\n        allow-update &#123; none; &#125;;\n&#125;;\nzone &quot;localhost.localdomain&quot; IN &#123;\n        type master;\n        file &quot;named.localhost&quot;;\n        allow-update &#123; none; &#125;;\n&#125;;\n反向区域：\n模板：\nzone &quot;1.0.0.127.in-addr.arpa&quot; IN &#123;\n        type master;\n        file &quot;named.loopback&quot;;\n        allow-update &#123; none; &#125;;\n&#125;;\n修改后：\nzone &quot;3.168.192.in-addr.arpa&quot; IN &#123; # 反向写你的网段地址\n        type master;\n        file &quot;3.168.192.in.zone&quot;;\n        allow-update &#123; none; &#125;;\n&#125;;\nzone &quot;1.0.0.127.in-addr.arpa&quot; IN &#123;\n        type master;\n        file &quot;named.loopback&quot;;\n        allow-update &#123; none; &#125;;\n&#125;;</code></pre>\n\n<h4 id=\"修改数据库\"><a href=\"#修改数据库\" class=\"headerlink\" title=\"修改数据库\"></a>修改数据库</h4><p><code>cd /var/named/chroot/var/named/</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[root@centos7kls-aby named]# ls\ndata     my.external.zone.db  named.ca     named.localhost  slaves\ndynamic  my.internal.zone.db  named.empty  named.loopback</code></pre>\n\n<p>复制<code>named.localhost</code>为正向区域模板</p>\n<p>复制<code>named.loopback</code>为反向区域模板</p>\n<p><code>cp -p named.localhost aliyun.com.zone</code></p>\n<p><code>cp -p named.localhost chaitin.com.zone</code></p>\n<p><code>cp -p named.loopback 3.168.192.in.zone</code></p>\n<p>这样我们就有数据库了</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230519110718659.png\" alt=\"image-20230519110718659\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230521215710971.png\" alt=\"image-20230521215710971\"></p>\n<h5 id=\"修改正向配置\"><a href=\"#修改正向配置\" class=\"headerlink\" title=\"修改正向配置\"></a>修改正向配置</h5><p><code>vim accp.com.zone</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">模板：\n$TTL 1D  # 代表缓存会存放一天\n@       IN SOA  @ rname.invalid. (  # SOA起始授权机构，即到底是谁的权威服务器，在这里是accp.com的，rname.invalid.是一个邮箱地址\n\t\t\t\t\t\t\t\t\t\t# 接下来的这些地方，不改也不影响，这是主从服务器同步失败隔多久重试一次，再重试失败隔多久把它删掉等\n                                        0       ; serial  #串号，不写也没关系，但一般是修改后好让后面的运维知道上次修改的日期是多久\n                                        1D      ; refresh\n                                        1H      ; retry\n                                        1W      ; expire\n                                        3H )    ; minimum\n        NS      @    #记录这个区域的DNS服务器记录\n        A       127.0.0.1  #将域名的主机名解析到IP地址\n        AAAA    ::1 #这一行可以不要，IPv6解析\n~                                                                               \n~                                                                               \n~                </code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">$TTL 1D\n@       IN SOA  aliyun.com. abyssaler.163.com. (\n                                        2023052101       ; serial\n                                        1D      ; refresh\n                                        1H      ; retry\n                                        1W      ; expire\n                                        3H )    ; minimum\n        IN\tNS      ns1.aliyun.com.\nns1\t\tIN\tA\t\t192.168.3.1\nwww     IN\tA       123.321.22.11 #测试环境，写谁都无所谓\n*\t\tIN\tA\t\t123.132.113.132 #泛域名解析\n~                                                                               \n~                             </code></pre>\n\n<h5 id=\"修改反向配置\"><a href=\"#修改反向配置\" class=\"headerlink\" title=\"修改反向配置\"></a>修改反向配置</h5><p>反向查询一般是查询服务器有效性的</p>\n<p><code>vim 3.168.192.in.zone</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">模板：\n$TTL 1D\n@       IN SOA  @ rname.invalid. (\n                                        0       ; serial\n                                        1D      ; refresh\n                                        1H      ; retry\n                                        1W      ; expire\n                                        3H )    ; minimum\n        NS      @\n        A       127.0.0.1\n        AAAA    ::1\n        PTR     localhost.\n~                                                                                           \n~                                                                                           \n~                                             </code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">修改后：\n$TTL 1D\n@       IN SOA  chaitin.com. abyssaler.163.com. (\n                                        202352101       ; serial\n                                        1D      ; refresh\n                                        1H      ; retry\n                                        1W      ; expire\n                                        3H )    ; minimum\n        IN\tNS      ns1.chaitin.com.\nns1     IN\tA       192.168.3.1\n1       IN\tPTR     chaitin.com.\n~                                             </code></pre>\n\n<h4 id=\"检测\"><a href=\"#检测\" class=\"headerlink\" title=\"检测\"></a>检测</h4><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230521215928935.png\" alt=\"image-20230521215928935\"></p>\n<p>检查主配置文件</p>\n<p><code>named-checkconf -z /var/named/chroot/etc/named.conf</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[root@centos7kls-aby named]# named-checkconf -z &#x2F;var&#x2F;named&#x2F;chroot&#x2F;etc&#x2F;named.conf \nzone localhost.localdomain&#x2F;IN: loaded serial 0\nzone localhost&#x2F;IN: loaded serial 0\nzone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa&#x2F;IN: loaded serial 0\nzone 1.0.0.127.in-addr.arpa&#x2F;IN: loaded serial 0\nzone 0.in-addr.arpa&#x2F;IN: loaded serial 0\n表示没有问题</code></pre>\n\n<p>检测各个区域</p>\n<p><code>named-checkzone chaitin.com chaitin.com.zone</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[root@centos7kls-aby named]# named-checkzone chaitin.com chaitin.com.zone \nzone chaitin.com&#x2F;IN: loaded serial 2023052101\nOK\n没有问题</code></pre>\n\n<p><code>named-checkzone aliyun.com aliyun.com.zone</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[root@centos7kls-aby named]# named-checkzone aliyun.com aliyun.com.zone \nzone aliyun.com&#x2F;IN: loaded serial 2023052101\nOK\n没有问题</code></pre>\n\n<p><code>named-checkzone 3.168.192 3.168.192.in.zone</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[root@centos7kls-aby named]# named-checkzone 3.168.192 3.168.192.in.zone \nzone 3.168.192&#x2F;IN: loaded serial 2023052101\nOK\n没有问题</code></pre>\n\n<p>启动服务</p>\n<p><code>systemctl start named-chroot.service </code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230521133919251.png\" alt=\"image-20230521133919251\"></p>\n<p>验证：</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230521134616677.png\" alt=\"image-20230521134616677\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230521134653180.png\" alt=\"image-20230521134653180\"></p>\n<h3 id=\"构建域名系统，配置主、从域名服务器\"><a href=\"#构建域名系统，配置主、从域名服务器\" class=\"headerlink\" title=\"构建域名系统，配置主、从域名服务器\"></a>构建域名系统，配置主、从域名服务器</h3><p>一般会报错，要关闭seLinux和防火墙</p>\n<p><code>setenforce 0</code>  # 临时关闭seLinux</p>\n<p><code>systemctl stop firewalld</code>  # 临时关闭防火墙</p>\n<p><code>vim /etc/resolv.conf</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230521204152874.png\" alt=\"image-20230521204152874\"></p>\n<p>安装程序</p>\n<p><code>yum -y install bind bind-utils bind-libs bind-chroot</code></p>\n<p>因为用的是伪装目录形式的安装，所以配置文件，区域文件，区域数据库需要改变下位置</p>\n<p><code>cp -rp /etc/named.* /var/named/chroot/etc/</code>   # 相当于伪装的一个根目录</p>\n<p><code>cp -rp /usr/share/doc/bind-9.11.4/sample/var/* /var/named/chroot/var</code></p>\n<p><code>cp -rp /var/named/dynamic/ /var/named/chroot/var/named/</code></p>\n<p>设置权限</p>\n<p><code>chown -R :named /var/named/chroot/var/named/</code><br><code>chown -R named /var/named/chroot/var/named/data/</code><br><code>chown -R named /var/named/chroot/var/named/slaves/</code><br><code>chmod -R 640 /var/named/chroot/var/named/named.*</code><br><code>chmod -R 770 /var/named/chroot/var/named/slaves/</code><br><code>chmod -R 770 /var/named/chroot/var/named/data/</code></p>\n<p>修改配置文件</p>\n<p><code>vim /var/named/chroot/etc/named.conf</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230521195420854.png\" alt=\"image-20230521195420854\"></p>\n<p><code>vim /var/named/chroot/etc/named.rfc1912.zones</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230521203013674.png\" alt=\"image-20230521203013674\"></p>\n<p>回到主域名服务器</p>\n<p><code>vim /var/named/chroot/etc/named.rfc1912.zones </code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230521203309822.png\" alt=\"image-20230521203309822\"></p>\n<p><code>cd /var/named/chroot/var/named/</code></p>\n<p><code>cp -p named.localhost bdqn.com.zone</code></p>\n<p><code>vim bdqn.com.zone </code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230521201728446.png\" alt=\"image-20230521201728446\"></p>\n<p>然后回到从域名服务器</p>\n<p>开启dns服务</p>\n<p><code>systemctl statr named-chroot</code></p>\n<h2 id=\"ssh远程访问及控制\"><a href=\"#ssh远程访问及控制\" class=\"headerlink\" title=\"ssh远程访问及控制\"></a>ssh远程访问及控制</h2><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230522083240880.png\" alt=\"image-20230522083240880\"></p>\n<h3 id=\"ssh远程管理\"><a href=\"#ssh远程管理\" class=\"headerlink\" title=\"ssh远程管理\"></a>ssh远程管理</h3><h4 id=\"ssh基本信息\"><a href=\"#ssh基本信息\" class=\"headerlink\" title=\"ssh基本信息\"></a>ssh基本信息</h4><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230522083310672.png\" alt=\"image-20230522083310672\"></p>\n<h4 id=\"ssh配置文件\"><a href=\"#ssh配置文件\" class=\"headerlink\" title=\"ssh配置文件\"></a>ssh配置文件</h4><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230522083658101.png\" alt=\"image-20230522083658101\"></p>\n<h5 id=\"登陆用户控制\"><a href=\"#登陆用户控制\" class=\"headerlink\" title=\"登陆用户控制\"></a>登陆用户控制</h5><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230522084212576.png\" alt=\"image-20230522084212576\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230522084723577.png\" alt=\"image-20230522084723577\"></p>\n<h3 id=\"使用ssh客户端\"><a href=\"#使用ssh客户端\" class=\"headerlink\" title=\"使用ssh客户端\"></a>使用ssh客户端</h3><p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230522085105692.png\" alt=\"image-20230522085105692\"></p>\n<p>设置无密码登陆</p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230522085911308.png\" alt=\"image-20230522085911308\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230522195830961.png\" alt=\"image-20230522195830961\"></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230522195837945.png\" alt=\"image-20230522195837945\"></p>\n<p><strong>配置允许用户jacky从主机192.168.3.110采用密钥对验证登录</strong></p>\n<p>编辑OpenSSH服务器配置文件</p>\n<p><code>vim /etc/ssh/sshd_config</code></p>\n<p>修改如下配置</p>\n<p><code>PubkeyAuthentication  yes</code>                &#x2F;&#x2F;启用密钥对验证登录</p>\n<p><code>PermitRootLogin  no</code>                            &#x2F;&#x2F;禁止root用户远程登录</p>\n<p><code>AllowUsers jacky@192.168.3.110 </code>       &#x2F;&#x2F;仅允许jacky从192.168.3.110主机登录</p>\n<p>重新加载OpenSSH</p>\n<p><code>systemctl reload sshd</code></p>\n<p>在主服务器创建jacky用户</p>\n<p><code>useradd jacky</code></p>\n<p>在主服务器创建jacky密码</p>\n<p><code>passwd jacky</code></p>\n<p>在客户机创建密钥</p>\n<p><code>ssh-keygen</code>，然后一直回车就行</p>\n<p>在客户机将密钥传给主服务器</p>\n<p><code>ssh-copy-id -i jacky@192.168.3.7</code>，输入yes</p>\n<p>通过客户机登录</p>\n<p><code>ssh jacky@192.168.3.7</code></p>\n<p><img src=\"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/image-20230522210442864.png\" alt=\"image-20230522210442864\"></p>\n","text":" yum服务 概述 准备安装源 yum是如何知道依赖关系的？ 在光盘中的repodata文件中存放着依赖关系 使⽤createrepo⼯具来建⽴本地yum仓库（有的OS版本没有装需要在光盘安装） 命令：rpm -ivh /run/media/root/CentOS\\ 7\\ x86...","link":"","photos":[],"count_time":{"symbolsCount":"23k","symbolsTime":"21 mins."},"categories":[{"name":"学习笔记","slug":"学习笔记","count":20,"path":"api/categories/学习笔记.json"}],"tags":[{"name":"kls","slug":"kls","count":8,"path":"api/tags/kls.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#yum%E6%9C%8D%E5%8A%A1\"><span class=\"toc-text\">yum服务</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%A6%82%E8%BF%B0\"><span class=\"toc-text\">概述</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%87%86%E5%A4%87%E5%AE%89%E8%A3%85%E6%BA%90\"><span class=\"toc-text\">准备安装源</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#yum%E5%B7%A5%E5%85%B7%E6%A6%82%E8%BF%B0\"><span class=\"toc-text\">yum工具概述</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#yum%E4%B8%8B%E8%BD%BD%E6%BA%90%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">yum下载源配置</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%BD%AF%E4%BB%B6%E5%8C%85%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">软件包命令</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Linux%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">Linux网络配置</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">使用网络配置命令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#ifconfig\"><span class=\"toc-text\">ifconfig</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#hostname\"><span class=\"toc-text\">hostname</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#route\"><span class=\"toc-text\">route</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#netstat\"><span class=\"toc-text\">netstat</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#ping\"><span class=\"toc-text\">ping</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#traceroute\"><span class=\"toc-text\">traceroute</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#nslookup\"><span class=\"toc-text\">nslookup</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AE%E7%BD%91%E7%BB%9C%E5%8F%82%E6%95%B0%E7%9A%84%E6%96%B9%E5%BC%8F\"><span class=\"toc-text\">设置网络参数的方式</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AE%E8%B7%AF%E7%94%B1%E8%AE%B0%E5%BD%95\"><span class=\"toc-text\">设置路由记录</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E4%B8%BB%E6%9C%BA%E5%90%8D\"><span class=\"toc-text\">修改主机名</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">修改网络配置文件</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">网络接口配置文件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%B8%BB%E6%9C%BA%E5%90%8D%E7%A7%B0%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">主机名称配置文件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9C%AC%E5%9C%B0%E4%B8%BB%E6%9C%BA%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">本地主机映射文件</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AEDHCP%E6%9C%8D%E5%8A%A1%E5%99%A8\"><span class=\"toc-text\">配置DHCP服务器</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8DHCP%E5%AE%A2%E6%88%B7%E7%AB%AF\"><span class=\"toc-text\">使用DHCP客户端</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%90%AD%E5%BB%BADNS%E6%9C%8D%E5%8A%A1%E5%99%A8\"><span class=\"toc-text\">搭建DNS服务器</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#dns%E5%9F%BA%E7%A1%80\"><span class=\"toc-text\">dns基础</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#BIND%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1\"><span class=\"toc-text\">BIND域名服务</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9E%84%E5%BB%BA%E4%B8%BB%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E9%85%8D%E7%BD%AE%E6%AD%A3%E5%8F%8D%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">构建主域名服务器，配置正反查询</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85%E7%A8%8B%E5%BA%8F\"><span class=\"toc-text\">安装程序</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AE%E6%9D%83%E9%99%90\"><span class=\"toc-text\">设置权限</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E4%B8%BB%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">修改主配置文件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%A3%B0%E6%98%8E%E5%9F%9F%E5%90%8D\"><span class=\"toc-text\">声明域名</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">修改数据库</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E6%AD%A3%E5%90%91%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">修改正向配置</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E5%8F%8D%E5%90%91%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">修改反向配置</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%A3%80%E6%B5%8B\"><span class=\"toc-text\">检测</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9E%84%E5%BB%BA%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F%EF%BC%8C%E9%85%8D%E7%BD%AE%E4%B8%BB%E3%80%81%E4%BB%8E%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8\"><span class=\"toc-text\">构建域名系统，配置主、从域名服务器</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#ssh%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE%E5%8F%8A%E6%8E%A7%E5%88%B6\"><span class=\"toc-text\">ssh远程访问及控制</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#ssh%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86\"><span class=\"toc-text\">ssh远程管理</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#ssh%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF\"><span class=\"toc-text\">ssh基本信息</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#ssh%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">ssh配置文件</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E7%99%BB%E9%99%86%E7%94%A8%E6%88%B7%E6%8E%A7%E5%88%B6\"><span class=\"toc-text\">登陆用户控制</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8ssh%E5%AE%A2%E6%88%B7%E7%AB%AF\"><span class=\"toc-text\">使用ssh客户端</span></a></li></ol></li></ol>","author":{"name":"Abyssaler","slug":"blog-author","avatar":"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/Face.jpg","link":"/","description":"道阻且长，行则将至","socials":{"github":"https://github.com/Abyssaler","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/weixin_45349299","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Linux文件传输服务-klsday6","uid":"32ad3e8d6b6ba6d99339baf1198a4c1f","slug":"klsday6-Linux","date":"2023-05-22T01:01:23.423Z","updated":"2023-05-23T04:57:16.422Z","comments":true,"path":"api/articles/klsday6-Linux.json","keywords":null,"cover":"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/wallhaven-7p382e_2.png","text":" Samba 文件共享服务 Samba服务基础Samba是一种开源软件，它的功能是在Linux&#x2F;UNIX操作系统上实现与Windows操作系统的互操作性。主要用途是实现文件和打印机共享。 使用Samba服务可以将Linux&#x2F;UNIX操作系统上的文件共享给Win...","link":"","photos":[],"count_time":{"symbolsCount":"4.5k","symbolsTime":"4 mins."},"categories":[{"name":"学习笔记","slug":"学习笔记","count":20,"path":"api/categories/学习笔记.json"}],"tags":[{"name":"kls","slug":"kls","count":8,"path":"api/tags/kls.json"}],"author":{"name":"Abyssaler","slug":"blog-author","avatar":"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/Face.jpg","link":"/","description":"道阻且长，行则将至","socials":{"github":"https://github.com/Abyssaler","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/weixin_45349299","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"Linux磁盘与进程管理-klsday4","uid":"3b6be56f4cef15238aa0c1509a18a652","slug":"klsday4-Linux","date":"2023-05-16T00:53:58.261Z","updated":"2023-05-18T13:15:33.479Z","comments":true,"path":"api/articles/klsday4-Linux.json","keywords":null,"cover":"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/wallhaven-6dl2yw.png","text":"首先关闭虚拟机，在VMware中给虚拟机加几块新的硬盘 Linux磁盘和文件系统管理fdisk fdisk 命令是一个在 Linux 操作系统中用于分区的命令行工具，可以用来查看、创建、修改和删除磁盘分区。以下是 fdisk 命令的一些常用选项和用法： 列出当前系统上所有磁盘及其...","link":"","photos":[],"count_time":{"symbolsCount":"22k","symbolsTime":"20 mins."},"categories":[{"name":"学习笔记","slug":"学习笔记","count":20,"path":"api/categories/学习笔记.json"}],"tags":[{"name":"kls","slug":"kls","count":8,"path":"api/tags/kls.json"}],"author":{"name":"Abyssaler","slug":"blog-author","avatar":"https://abyssaler-typora-photobank.oss-cn-chengdu.aliyuncs.com/img_for_typora/Face.jpg","link":"/","description":"道阻且长，行则将至","socials":{"github":"https://github.com/Abyssaler","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/weixin_45349299","juejin":"","customs":{}}}}}